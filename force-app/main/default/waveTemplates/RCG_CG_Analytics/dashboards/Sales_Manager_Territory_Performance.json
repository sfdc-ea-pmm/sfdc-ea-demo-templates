{
  "name" : "Sales_Manager_Territory_Performance_tp",
  "label" : "CG Analytics - Sales Manager - Territory Performance",
  "folder" : {
    "id" : "${App.Folder.Id}"
  },
  "dateVersion" : 1,
  "mobileDisabled" : false,
  "xmd" : {
    "measures" : [
      {
        "conditionalFormatting" : { },
        "field" : "lens_6.Sales",
        "format" : {
          "delimiters" : { },
          "customFormat" : "[\"$#,###.00\",1]"
        }
      },
      {
        "conditionalFormatting" : { },
        "field" : "lens_6.SalesVelocity",
        "format" : {
          "delimiters" : { },
          "customFormat" : "[\"$#,###.00\",1]"
        }
      },
      {
        "conditionalFormatting" : {
          "chartColor" : {
            "referenceField" : "Decline_percent",
            "type" : "multiple",
            "parameters" : {
              "bins" : [
                {
                  "formatValue" : "#E84340",
                  "bin" : "*"
                },
                {
                  "formatValue" : "#4269E9",
                  "bin" : "0"
                }
              ]
            }
          }
        },
        "field" : "decline_city_1.Decline_percent",
        "format" : {
          "delimiters" : { }
        }
      }
    ],
    "derivedDimensions" : [ ],
    "organizations" : [ ],
    "showDetailsDefaultFields" : [ ],
    "dates" : [ ],
    "derivedMeasures" : [ ],
    "dimensions" : [
      {
        "recordDisplayFields" : [ ],
        "conditionalFormatting" : {
          "chartColor" : {
            "referenceField" : "Decline_percent",
            "type" : "multiple",
            "parameters" : {
              "bins" : [
                {
                  "formatValue" : "#E84340",
                  "bin" : "*"
                },
                {
                  "formatValue" : "#4269E9",
                  "bin" : "0"
                }
              ]
            }
          }
        },
        "salesforceActions" : [ ],
        "field" : "decline_city_1.ALL",
        "members" : [ ],
        "customActions" : [ ]
      }
    ]
  },
  "state" : {
    "dataSourceLinks" : [
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.CG_Visit5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_OrderItem5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Case5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_RetailVisitKpi5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_SurveyQuestionResponse5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "SurveyResponse_SurveySubject_StoreName"
          }
        ],
        "label" : "Store Name",
        "name" : "Link_305"
      },
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.CG_Visit5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_Location_Address_State"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Case5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_Location_Address_State"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_RetailVisitKpi5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_SurveyQuestionResponse5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "SurveyResponse_SurveySubject_State"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_OrderItem5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State"
          }
        ],
        "label" : "State",
        "name" : "Link_1362"
      },
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.CG_Visit5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_RetailStoreGroup_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Case5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_RetailStoreGroup_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_OrderItem5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_RetailVisitKpi5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_SurveyQuestionResponse5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "SurveyResponse_SurveySubject_StoreGroup"
          }
        ],
        "label" : "Store Group",
        "name" : "Link_2577"
      },
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.CG_Visit5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_Location_Address_City"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_RetailVisitKpi5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Case5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_Location_Address_City"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_SurveyQuestionResponse5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "SurveyResponse_SurveySubject_City"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_OrderItem5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City"
          }
        ],
        "label" : "City",
        "name" : "Link_1400"
      },
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.CG_OrderItem5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Order_ActivatedDate"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Visit5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Actual Start Time"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_RetailVisitKpi5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "ActualVisitStartTime"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_SurveyQuestionResponse5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "SurveyResponse_CompletionDateTime"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Case5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Created Date"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Promotion5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Start Date"
          }
        ],
        "label" : "Date",
        "name" : "Link_8847"
      },
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.CG_Visit5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "RetailStore_Account_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_RetailVisitKpi5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Case5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "undefined_Computed"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_OrderItem5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Order_AssessmentTaskOrder_RetailStore_Account_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_SurveyQuestionResponse5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "SurveyResponse_SurveySubject_Account"
          }
        ],
        "label" : "Account",
        "name" : "Link_1294"
      },
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.CG_OrderItem5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Product_ProductCategory_ProductCategory_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_RetailVisitKpi5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "undefined_Custom"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_ProductCategory1_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Name"
          }
        ],
        "label" : "ProductCategory",
        "name" : "Link_3327"
      },
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.CG_OrderItem5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Product_Name"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_RetailVisitKpi5_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "undefined_Custom"
          },
          {
            "dataSourceName" : "${App.Datasets.CG_Product1_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Name"
          }
        ],
        "label" : "Product",
        "name" : "Link_3304"
      }
    ],
    "filters" : [
      {
        "dataset" : {
          "name" : "${App.Datasets.CG_Visit5_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "RetailStore_Account_Name"
        ],
        "label" : "Account",
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.CG_Visit5_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "RetailStore_RetailStoreGroup_Name"
        ],
        "label" : "Store Group",
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.CG_Visit5_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "RetailStore_Name"
        ],
        "label" : "Store Name",
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.CG_Visit5_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "RetailStore_Location_Address_State"
        ],
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.CG_Visit5_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "RetailStore_Location_Address_City"
        ],
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.CG_ProductCategory1_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "Name"
        ],
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.CG_Product1_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "Name"
        ],
        "locked" : false,
        "operator" : "in"
      }
    ],
    "gridLayouts" : [
      {
        "maxWidth" : 1500,
        "name" : "Default",
        "numColumns" : 50,
        "pages" : [
          {
            "label" : "TerritoryPerformance",
            "name" : "83c3beaa-bf4f-4dda-972e-ceb65c4666ba",
            "navigationHidden" : false,
            "widgets" : [
              {
                "colspan" : 50,
                "column" : 0,
                "name" : "container_2",
                "row" : 0,
                "rowspan" : 6,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#C6D3E1",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 7,
                "column" : 3,
                "name" : "text_3",
                "row" : 1,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "top"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 4
                }
              },
              {
                "colspan" : 40,
                "column" : 1,
                "name" : "filterpanel_3",
                "row" : 7,
                "rowspan" : 5,
                "widgetStyle" : {
                  "backgroundColor" : "#E6ECF2",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 50,
                "column" : 0,
                "name" : "container_6",
                "row" : 12,
                "rowspan" : 7,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 5,
                "column" : 1,
                "name" : "text_1",
                "row" : 12,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 6,
                "column" : 12,
                "name" : "text_2",
                "row" : 12,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 6,
                "column" : 6,
                "name" : "text_4",
                "row" : 12,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 50,
                "column" : 0,
                "name" : "container_3",
                "row" : 59,
                "rowspan" : 28,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 50,
                "column" : 0,
                "name" : "container_4",
                "row" : 87,
                "rowspan" : 32,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 9,
                "column" : 1,
                "name" : "text_12",
                "row" : 87,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 48,
                "column" : 1,
                "name" : "table_1",
                "row" : 90,
                "rowspan" : 29,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 50,
                "column" : 0,
                "name" : "container_11",
                "row" : 6,
                "rowspan" : 6,
                "widgetStyle" : {
                  "backgroundColor" : "#E6ECF2",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 24,
                "column" : 1,
                "name" : "text_11",
                "row" : 60,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 24,
                "column" : 1,
                "name" : "chart_3",
                "row" : 63,
                "rowspan" : 24,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 5,
                "column" : 1,
                "name" : "number_6",
                "row" : 16,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 6,
                "column" : 6,
                "name" : "number_7",
                "row" : 16,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 6,
                "column" : 18,
                "name" : "text_6",
                "row" : 12,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 8,
                "column" : 41,
                "name" : "pillbox_2",
                "row" : 60,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 6,
                "column" : 24,
                "name" : "text_8",
                "row" : 12,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 6,
                "column" : 24,
                "name" : "number_3",
                "row" : 16,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 6,
                "column" : 12,
                "name" : "number_4",
                "row" : 16,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 6,
                "column" : 18,
                "name" : "text_10",
                "row" : 16,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 24,
                "column" : 25,
                "name" : "chart_4",
                "row" : 63,
                "rowspan" : 24,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 16,
                "column" : 25,
                "name" : "text_5",
                "row" : 60,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 21,
                "column" : 0,
                "name" : "text_7",
                "row" : 29,
                "rowspan" : 2,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 14,
                "column" : 22,
                "name" : "chart_2",
                "row" : 31,
                "rowspan" : 27,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 8,
                "column" : 9,
                "name" : "listselector_1",
                "row" : 20,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(14, 47, 92)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderRadius" : 4,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 14,
                "column" : 36,
                "name" : "chart_6",
                "row" : 31,
                "rowspan" : 27,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 21,
                "column" : 0,
                "name" : "chart_10",
                "row" : 31,
                "rowspan" : 27,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 14,
                "column" : 22,
                "name" : "text_13",
                "row" : 29,
                "rowspan" : 2,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 6,
                "column" : 30,
                "name" : "text_14",
                "row" : 12,
                "rowspan" : 4,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 6,
                "column" : 30,
                "name" : "number_1",
                "row" : 16,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 7,
                "column" : 36,
                "name" : "text_15",
                "row" : 12,
                "rowspan" : 4,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 7,
                "column" : 36,
                "name" : "number_2",
                "row" : 16,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 14,
                "column" : 36,
                "name" : "text_16",
                "row" : 29,
                "rowspan" : 2,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 21,
                "column" : 0,
                "name" : "text_17",
                "row" : 26,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 27,
                "column" : 22,
                "name" : "text_18",
                "row" : 26,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderColor" : "rgba(230, 236, 242, 0.44)",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 8,
                "column" : 1,
                "name" : "text_9",
                "row" : 20,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(14, 47, 92)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 6,
                "column" : 41,
                "name" : "dateselector_1",
                "row" : 7,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 6,
                "column" : 41,
                "name" : "text_19",
                "row" : 10,
                "rowspan" : 1,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 21,
                "column" : 9,
                "name" : "text_20",
                "row" : 23,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(14, 47, 92)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 1,
                "column" : 49,
                "name" : "text_21",
                "row" : 26,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(34, 71, 116)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 2,
                "column" : 1,
                "name" : "image_3",
                "row" : 1,
                "rowspan" : 4,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              }
            ]
          }
        ],
        "rowHeight" : "fine",
        "selectors" : [ ],
        "style" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "backgroundColor" : "rgb(14, 47, 92)",
          "cellSpacingX" : 0,
          "cellSpacingY" : 0,
          "fit" : "original",
          "gutterColor" : "#C5D3E0"
        },
        "version" : 1.0
      }
    ],
    "layouts" : [ ],
    "steps" : {
      "trend_multidatasetqu_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "trend_multidatasetquery",
        "numbers" : [ ],
        "query" : "-- Order Details\r\norder1 = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\r\norder1 = group order1 by ('Order_ActivatedDate_Year','Order_ActivatedDate_Month','Order_ActivatedDate_Week');\r\norder1 = foreach order1 generate 'Order_ActivatedDate_Year' as 'Order_ActivatedDate_Year', 'Order_ActivatedDate_Month' as 'Order_ActivatedDate_Month', 'Order_ActivatedDate_Year'+\"-\"+'Order_ActivatedDate_Week' as 'YearWeek', sum('TotalPrice') as 'Sales',sum('Quantity') as 'Quantity';\r\norder1 = group order1 by ('Order_ActivatedDate_Year','Order_ActivatedDate_Month');\r\norder1 = foreach order1 generate 'Order_ActivatedDate_Year' + \"~~~\" + 'Order_ActivatedDate_Month' as 'Order_ActivatedDate_Year~~~Order_ActivatedDate_Month', sum('Sales') as 'Sales',sum('Quantity') as 'Quantity', (sum('Sales')/unique('YearWeek')) as 'sales_velocity';\r\n\r\n--StoreCompliance\r\n comp = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\ncomp_result = filter comp by 'Include_In_Compliance' == \"True\";\r\ncomp_result = group comp_result by ('ActualVisitStartTime_Year','ActualVisitStartTime_Month', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\ncomp_result = foreach comp_result generate 'ActualVisitStartTime_Year' + \"~~~\" + 'ActualVisitStartTime_Month' as'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name', avg('Compliance_Percentage') as 'avg_Compliance_Percentage';\r\ncomp_result = group comp_result by 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month';\r\ncomp_result = foreach comp_result generate 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',avg('avg_Compliance_Percentage') as 'Avg_Compliance_Percentage';\r\n\r\n--OutofStock\r\noos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\noos = filter oos by 'ActualBooleanValue' == \"True\" and 'Type_Computed' == \"OutOfStock\";\r\noos_result = group oos by ('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month');\r\noos_result = foreach oos_result generate 'ActualVisitStartTime_Year' + \"~~~\" + 'ActualVisitStartTime_Month' as'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',\r\n count(oos) as 'OutOfStock_Count';\r\n\r\n--Average Share of Shelf Compliance\r\nsos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nsos = filter sos by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"ShareOfShelf\";\r\nsos_result = group sos by ('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\nsos_result = foreach sos_result generate 'ActualVisitStartTime_Year' + \"~~~\" + 'ActualVisitStartTime_Month' as 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name', avg('Compliance_Percentage') as 'avg_SOSCompliance_Percentage';\r\nsos_result = group sos_result by 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month';\r\nsos_result = foreach sos_result generate 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',\r\n avg('avg_SOSCompliance_Percentage') as 'avg_SOSCompliance_Percentage';\r\n\r\n--Average Facings Compliance\r\n fcs = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nfcs = filter fcs by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Facing\";\r\nfcs_result = group fcs by ('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\nfcs_result = foreach fcs_result generate 'ActualVisitStartTime_Year' + \"~~~\" + 'ActualVisitStartTime_Month' as 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name', avg('Compliance_Percentage') as 'avg_FCSCompliance_Percentage';\r\nfcs_result = group fcs_result by 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month';\r\nfcs_result = foreach fcs_result generate 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',\r\n avg('avg_FCSCompliance_Percentage') as 'avg_FCSCompliance_Percentage';\r\n\r\n--Average Promotion Compliance\r\n promo = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\npromo = filter promo by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Promotion\";\r\npromo_result = group promo by ('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\npromo_result = foreach promo_result generate 'ActualVisitStartTime_Year' + \"~~~\" + 'ActualVisitStartTime_Month' as 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name', avg('Compliance_Percentage') as 'avg_PromoCompliance_Percentage';\r\npromo_result = group promo_result by 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month';\r\npromo_result = foreach promo_result generate 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',\r\n avg('avg_PromoCompliance_Percentage') as 'avg_PromoCompliance_Percentage';\r\n\r\n--final multidataset table\r\nfinal_table = cogroup \r\n              order1 by  'Order_ActivatedDate_Year~~~Order_ActivatedDate_Month' full,\r\n             comp_result by  'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month' full,\r\n             sos_result  by  'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month' full,\r\n             fcs_result by 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month' full,\r\n             oos_result by 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month' full,\r\n             promo_result by 'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month';\r\nfinal_table = foreach final_table generate\r\ncoalesce(order1.'Order_ActivatedDate_Year~~~Order_ActivatedDate_Month',comp_result.'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',sos_result.'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',fcs_result.'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',oos_result.'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month',promo_result.'ActualVisitStartTime_Year~~~ActualVisitStartTime_Month') as 'Order_ActivatedDate_Year~~~Order_ActivatedDate_Month',\r\n sum(order1.'Sales') as 'Total_Sales',sum(order1.'Quantity') as 'Total_Quantity', avg(order1.'sales_velocity') as 'avg_sales_velocity',\r\n         sum(oos_result.'OutOfStock_Count') as 'OutOfStock_Count',\r\n         avg(comp_result.'Avg_Compliance_Percentage') as 'Avg_Compliance_Percentage',\r\n         avg(fcs_result.'avg_FCSCompliance_Percentage') as 'avg_FCSCompliance_Percentage',\r\n         avg(sos_result.'avg_SOSCompliance_Percentage') as 'avg_SOSCompliance_Percentage',\r\n         avg(promo_result.'avg_PromoCompliance_Percentage') as 'avg_PromoCompliance_Percentage';\r\nfinal_table = final_table = foreach final_table generate\r\n'Order_ActivatedDate_Year~~~Order_ActivatedDate_Month' as 'Order_ActivatedDate_Year~~~Order_ActivatedDate_Month',{{cell(picklist_1_1.selection,0,\"Field_value_trend\").asObject()}} as '{{cell(picklist_1_1.selection,0,\"Api_name_trend\").asObject()}}';\r\nfinal_table = order final_table by 'Order_ActivatedDate_Year~~~Order_ActivatedDate_Month' asc;",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "showPoints" : false,
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "time",
            "missingValue" : "connect",
            "dashLine" : {
              "measures" : "",
              "showDashLine" : false
            },
            "timeAxis" : {
              "showTitle" : true,
              "showAxis" : true,
              "title" : ""
            },
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "fillArea" : true,
            "showActionMenu" : true,
            "showZero" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "valueType" : "none",
            "theme" : "wave",
            "applyConditionalFormatting" : true,
            "drawArea" : {
              "measure" : "",
              "showDrawArea" : false,
              "bounding1" : "",
              "bounding2" : ""
            }
          },
          "type" : "chart"
        }
      },
      "zipcode_metric_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "city_metric",
        "numbers" : [ ],
        "query" : "--City Details\r\ncity1 = load \"${App.Datasets.CG_Visit5_tp.FullyQualifiedName}\";\r\ncity1 = group city1 by 'RetailStore_Location_Address_City';\r\ncity1 = foreach city1 generate 'RetailStore_Location_Address_City' as 'City';\r\n\r\n-- Order Details\r\norder1 = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\r\norder1 = group order1 by( 'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City','Order_ActivatedDate_Year','Order_ActivatedDate_Week');\r\norder1 = foreach order1 generate 'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City','Order_ActivatedDate_Year'+\"-\"+'Order_ActivatedDate_Week' \r\nas 'YearWeek', sum('TotalPrice') as 'Sales', sum('Quantity') as 'Quantity';\r\norder1 = group order1 by 'City';\r\norder1 = foreach order1 generate 'City', (sum('Sales')/unique('YearWeek')) as 'avg_sales_velocity', sum('Sales') as 'total_sales',sum('Quantity') as 'total_quantity';\r\n\r\n-- Share of Shelf\r\nsos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nsos = filter sos by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"ShareOfShelf\";\r\nsos = group sos by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\nsos = foreach sos generate 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as Avg_SoSCompliance_Percentage;\r\nsos = group sos by 'City';\r\nsos = foreach sos generate 'City', avg('Avg_SoSCompliance_Percentage') as 'Avg_SoSCompliance_Percentage';\r\n\r\n--OutOfStock\r\noos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\noos = filter oos by 'ActualBooleanValue'== \"True\" and 'Type_Computed' == \"OutOfStock\";\r\noos_result = group oos by 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City';\r\noos_result = foreach oos_result generate oos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City',count(oos) as 'OutOfStock_Count';\r\n\r\n-- Compliance% Calculation\r\ncomp = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\ncomp = filter comp by 'Include_In_Compliance' == \"True\";\r\ncomp_result = group comp by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\ncomp_result = foreach comp_result generate 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_Compliance_Percentage';\r\ncomp_result = group comp_result by 'City';\r\ncomp_result = foreach comp_result generate 'City' as 'City', avg('Avg_Compliance_Percentage') as 'Avg_CompliancePercentage';\r\n\r\n-- FacingsCompliance% Calculation\r\nfcs = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nfcs = filter fcs by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Facing\";\r\nfcs = group fcs by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\nfcs = foreach fcs generate 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_FacingsCompliance_Percentage';\r\nfcs = group fcs by 'City';\r\nfcs = foreach fcs generate 'City', avg('Avg_FacingsCompliance_Percentage') as 'Avg_FacingsCompliance_Percentage';\r\n\r\n--PromotionCompliance\r\npromo = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\npromo = filter promo by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Promotion\";\r\npromo = group promo by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\npromo = foreach promo generate 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_PromoCompliance_Percentage';\r\npromo = group promo by 'City';\r\npromo = foreach promo generate 'City', avg('Avg_PromoCompliance_Percentage') as 'Avg_PromoCompliance_Percentage';\r\n\r\n--final multidataset table \r\nfinal_table = cogroup city1 by 'City' full, order1 by  'City' full, sos by  'City' full, oos_result by  'City' full, comp_result by  'City' full,fcs by 'City' full, promo by 'City';\r\nfinal_table = foreach final_table generate coalesce(city1.'City',order1.'City',oos_result.'City',comp_result.'City',fcs.'City',sos.'City',promo.'City') \r\nas 'City',avg(order1.'avg_sales_velocity') as 'avg_sales_velocity',sum(order1.'total_sales') as 'total_sales',sum(order1.'total_quantity') as 'total_quantity',\r\nsum(oos_result.'OutOfStock_Count') as 'OutOfStock_Count',avg(sos.'Avg_SoSCompliance_Percentage') as 'Avg_SoSCompliance_Percentage',avg(comp_result.'Avg_CompliancePercentage') as 'Avg_CompliancePercentage',avg(fcs.'Avg_FacingsCompliance_Percentage') as 'Avg_FacingsCompliance_Percentage', avg(promo.'Avg_PromoCompliance_Percentage') \r\nas 'Avg_PromoCompliance_Percentage';\r\nfinal_table1 = group final_table by 'City';\r\nfinal_table1 = filter final_table1 by {{cell(picklist_1_1.selection,0,\"Api_name_city\").asObject()}} is not null;\r\nfinal_table1 = foreach final_table1 generate 'City' as 'RetailStore_Location_Address_City',{{cell(picklist_1_1.selection,0,\"Field_value_city\").asObject()}}  as '{{cell(picklist_1_1.selection,0,\"Api_name_city\").asObject()}}';\r\nfinal_table1 = order final_table1 by {{cell(picklist_1_1.selection,0,\"Api_name_city\").asObject()}} desc;",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "zipcode_metric_1"
          ]
        },
        "selectMode" : "single",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : false,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : false,
              "showAxis" : false,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : false,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "prod_Prodcat_metric_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "prod_Prodcat_metric",
        "numbers" : [ ],
        "query" : "-- Compliance% Calculation\r\ncomp = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\ncomp = filter comp by 'Include_In_Compliance' == \"True\";\r\ncomp_result = group comp by ('undefined_Custom','undefined_Custom','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\ncomp_result = foreach comp_result generate 'undefined_Custom' as 'Product_Category','undefined_Custom' as 'Product', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_Compliance_Percentage';\r\ncomp_result = group comp_result by  ('Product_Category','Product');\r\ncomp_result = foreach comp_result generate 'Product_Category' as 'Product_Category','Product' as 'Product', avg('Avg_Compliance_Percentage') as 'Avg_CompliancePercentage';\r\n\r\n-- Order Details\r\norder1 = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\r\norder1 = group order1 by('Product_ProductCategory_ProductCategory_Name','Product_Name','Order_ActivatedDate_Year','Order_ActivatedDate_Week');\r\norder1 = foreach order1 generate 'Product_ProductCategory_ProductCategory_Name' as 'Product_Category','Product_Name' as 'Product','Order_ActivatedDate_Year'+\"-\"+'Order_ActivatedDate_Week' \r\nas 'YearWeek', sum('TotalPrice') as 'Sales',sum('Quantity') as 'Quantity';\r\norder1 = group order1 by ({{column(product_toggle_1.selection,[\"Field_Value\"]).asObject()}});\r\norder1 = foreach order1 generate {{column(product_toggle_1.selection,[\"Field_Value\"]).asObject()}} as 'Product_Category', {{column(product_toggle_1.selection,[\"Field_Value\"]).asObject()}} as 'Product', (sum('Sales')/unique('YearWeek')) as 'avg_sales_velocity',sum('Sales') as 'Sales',sum('Quantity') as 'Quantity';\r\n\r\n-- Share of Shelf\r\nsos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nsos = filter sos by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"ShareOfShelf\";\r\nsos = group sos by ('undefined_Custom','undefined_Custom','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\nsos = foreach sos generate 'undefined_Custom' as 'Product_Category','undefined_Custom' as 'Product', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_SoSCompliance_Percentage';\r\nsos = group sos by ('Product_Category','Product');\r\nsos = foreach sos generate 'Product_Category', 'Product', avg('Avg_SoSCompliance_Percentage') as 'Avg_SoSCompliance_Percentage';\r\n--OutOfStock\r\noos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\noos = filter oos by 'ActualBooleanValue'== \"True\" and 'Type_Computed' == \"OutOfStock\";\r\noos_result = group oos by ('undefined_Custom','undefined_Custom');\r\noos_result = foreach oos_result generate oos.'undefined_Custom' as 'Product_Category',oos.'undefined_Custom' as 'Product',count(oos) as 'OutOfStock_Count';\r\n-- FacingsCompliance% Calculation\r\nfcs = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nfcs = filter fcs by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Facing\";\r\nfcs = group fcs by  ('undefined_Custom','undefined_Custom','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\nfcs = foreach fcs generate 'undefined_Custom' as 'Product_Category','undefined_Custom' as 'Product', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_FacingsCompliance_Percentage';\r\nfcs = group fcs by ('Product_Category','Product');\r\nfcs = foreach fcs generate 'Product_Category', 'Product', avg('Avg_FacingsCompliance_Percentage') as 'Avg_FacingsCompliance_Percentage';\r\n--PromotionCompliance\r\npromo = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\npromo = filter promo by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Promotion\";\r\npromo = group promo by ('undefined_Custom','undefined_Custom','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\npromo = foreach promo generate 'undefined_Custom' as 'Product_Category','undefined_Custom' as 'Product', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_PromoCompliance_Percentage';\r\npromo = group promo by ('Product_Category','Product');\r\npromo = foreach promo generate 'Product_Category', 'Product', avg('Avg_PromoCompliance_Percentage') as 'Avg_PromoCompliance_Percentage';\r\n\r\n--final multidataset table \r\nfinal_table = cogroup order1 by ('Product_Category','Product') full, sos by ('Product_Category','Product') full, oos_result by ('Product_Category','Product') full, comp_result by ('Product_Category','Product') full,fcs by ('Product_Category','Product') full, promo by ('Product_Category','Product');\r\nfinal_table = foreach final_table generate coalesce(comp_result.'Product_Category',order1.'Product_Category',sos.'Product_Category',oos_result.'Product_Category',fcs.'Product_Category',promo.'Product_Category') as 'Product_Category',coalesce(comp_result.'Product',order1.'Product',sos.'Product',oos_result.'Product',fcs.'Product',promo.'Product') as 'Product', avg(order1.'avg_sales_velocity') as 'avg_sales_velocity',sum(order1.'Sales') as 'total_sales',sum(order1.'Quantity') as 'total_qty',\r\nsum(oos_result.'OutOfStock_Count') as 'OutOfStock_Count',avg(sos.'Avg_SoSCompliance_Percentage') as 'Avg_SoSCompliance_Percentage',avg(comp_result.'Avg_CompliancePercentage') as 'Avg_CompliancePercentage',avg(fcs.'Avg_FacingsCompliance_Percentage') as 'Avg_FacingsCompliance_Percentage',avg(promo.'Avg_PromoCompliance_Percentage') as 'Avg_PromoCompliance_Percentage';\r\nfinal_table1 = group final_table by {{column(product_toggle_1.selection,[\"Field_Value\"]).asObject()}};\r\nfinal_table1 = filter final_table1 by {{cell(picklist_1_1.selection,0,\"Api_name_acct\").asObject()}} is not null;\r\nfinal_table1 = foreach final_table1 generate {{row(product_toggle_1.selection,[0],[\"Field_Value\",\"API_Name\"]).asProjection()}},{{cell(picklist_1_1.selection,0,\"Field_value_acct\").asObject()}}  as '{{cell(picklist_1_1.selection,0,\"Api_name_acct\").asObject()}}';\r\nfinal_table1 = order final_table1 by {{cell(picklist_1_1.selection,0,\"Api_name_acct\").asObject()}} desc;",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "prod_Prodcat_metric_1"
          ]
        },
        "selectMode" : "single",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "date_parser_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "date_parser",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.CG_Visit5_tp.FullyQualifiedName}\";\r\nq = group q by all;\r\nq = foreach q generate toDate(date_to_epoch(now()) - (date_to_epoch(now())- (86400 * floor(date_to_epoch(now())/86400)))) as 'First Second', case when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"year\" then toDate( ( number_to_string(string_to_number(toString (now(), \"yyyy\")) + string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", \"year\")+5 )),\"#\")+\"-01-01\"), \"yyyy-MM-dd\") when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"quarter\" then toDate(date_to_epoch(quarter_last_day(toDate(date_to_epoch(quarter_last_day(now())) - 1036800 + ((string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", \"quarter\")+8 ))-1) * 7948800)))) + 86400) when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"month\" then toDate(date_to_epoch(month_last_day(toDate(date_to_epoch(month_last_day(now())) - 1036800 + ((string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", \"month\")+6 ))-1) * 2678400)))) + 86400) when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"week\" then toDate(date_to_epoch(week_last_day(toDate(date_to_epoch(week_last_day(now())) + ((string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", \"week\")+5 ))-1) * 604800)))) + 86400) when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"day\" then toDate((date_to_epoch(now()) - (date_to_epoch(now())- (86400 * floor(date_to_epoch(now())/86400)))) + (string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\", \"day\")+4 )) * 86400)) when !(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"All\") then toDate(string_to_number(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"min\"),\"All\").asObject()}}\")/1000) else toDate(1) end as 'Min', case when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"year\" then  year_last_day(toDate( ( number_to_string(string_to_number(toString (now(), \"yyyy\")) + string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", \"year\")+5 )),\"#\")+\"-01-01\"), \"yyyy-MM-dd\")) when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"quarter\" then quarter_last_day(toDate(date_to_epoch(quarter_last_day(toDate(date_to_epoch(quarter_last_day(now())) - 1036800 + ((string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", \"quarter\")+8 ))-1) * 7948800)))) + 86400)) when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"month\" then month_last_day(toDate(date_to_epoch(month_last_day(toDate(date_to_epoch(month_last_day(now())) - 1036800 + ((string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", \"month\")+6 ))-1) * 2678400)))) + 86400)) when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"week\" then week_last_day(toDate(date_to_epoch(week_last_day(toDate(date_to_epoch(week_last_day(now())) + ((string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", \"week\")+5 ))-1) * 604800)))) + 86400)) when \"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"day\" then toDate((date_to_epoch(now()) - (date_to_epoch(now())- (86400 * floor(date_to_epoch(now())/86400)))) + (string_to_number(substr(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\", \"day\")+4 )) * 86400)) when !(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"All\") then toDate(string_to_number(\"{{coalesce(cell(Planned_Start_Time_1.selection,0,\"max\"),\"All\").asObject()}}\")/1000) else toDate(5707696000) end as 'Max';\r\nq = foreach q generate 'First Second' as 'First Second', 'Min' as 'Min Date', 'Max' as 'Max Date', date_to_epoch('Min') as 'Min', (date_to_epoch('Max')+86399) as 'Max', (date_to_epoch('Min')-((date_to_epoch('Max')+86400)-date_to_epoch('Min'))) as 'Compare_Min', ((date_to_epoch('Max')+86399)-((date_to_epoch('Max')+86400)-date_to_epoch('Min'))) as 'Compare_Max', \"[\"+replace(toString('Min',\"yyyy-MM-dd\"),\"-\",\",\")+\"]\" as 'Date_Min', \"[\"+replace(toString('Max',\"yyyy-MM-dd\"),\"-\",\",\")+\"]\" as 'Date_Max';",
        "receiveFacetSource" : {
          "mode" : "none",
          "steps" : [ ]
        },
        "selectMode" : "none",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : false,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "total_stores_1" : {
        "broadcastFacet" : true,
        "datasets" : [
          {
            "name" : "${App.Datasets.CG_Visit5_tp.Name}"
          }
        ],
        "isGlobal" : false,
        "label" : "total stores",
        "query" : {
          "query" : {
            "measures" : [
              [
                "unique",
                "RetailStore_Id"
              ],
              [
                "unique",
                "RetailStore_AccountId"
              ]
            ]
          },
          "version" : -1.0
        },
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "type" : "aggregateflex",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [ ],
              "plots" : [
                "unique_RetailStore_Id",
                "unique_RetailStore_AccountId"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "Master_Table_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "Master Table",
        "numbers" : [ ],
        "query" : "--Store Details\r\nstore1 = load \"${App.Datasets.CG_Visit5_tp.FullyQualifiedName}\";\r\nstore1 = filter store1 by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'ActualVisitStartTime_Day')\")}};\r\nstore1 = group store1 by ('RetailStore_Name','RetailStore_RetailStoreGroup_Name','RetailStore_Location_Address_State',\r\n         'RetailStore_Location_Address_City','RetailStore_Account_Name','RetailStore_Location_Name' );\r\nstore1 = foreach store1 generate store1.'RetailStore_Name' as 'Store',store1.'RetailStore_RetailStoreGroup_Name' as 'Store Group',store1.'RetailStore_Account_Name' as 'Account',store1.'RetailStore_Location_Address_State' as 'State',store1.'RetailStore_Location_Address_City' as 'City',store1.'RetailStore_Location_Name' as 'Location';\r\n         \r\n\r\n-- Order Details\r\norder1 = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\r\norder1 = filter order1 by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('Order_ActivatedDate_Year', 'Order_ActivatedDate_Month', 'Order_ActivatedDate_Day')\")}};\r\norder1 = group order1 by ('Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name','Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name','Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State','Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City','Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name');\r\norder1 = foreach order1 generate order1.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store',order1.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name' as 'Store Group',order1.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account',order1.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State' as 'State',order1.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City',order1.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name' as 'Location',sum(order1.'TotalPrice') as 'Sales',unique(order1.'OrderId') as 'Orders',sum(order1.'Quantity') as 'Quantity';\r\n\r\n-- Share of Shelf\r\n\r\nsos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\"; \r\nsos = filter sos by 'Include_In_Compliance' == \"True\";\r\nsos = filter sos by 'Type_Computed' == \"ShareOfShelf\";\r\nsos = filter sos by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'ActualVisitStartTime_Day')\")}};\r\nsos = group sos by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name');\r\nsos = foreach sos generate sos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store',sos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name' as 'Store Group',sos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account',sos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State' as 'State',sos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City',sos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name' as 'Location',avg(sos.'Compliance_Percentage') as 'SoS_Compliance_Percentage';\r\n       \r\n  --OutOfStock\r\noos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\noos = filter oos by 'Include_In_Compliance'== \"True\" and 'Type_Computed' == \"OutOfStock\";\r\noos = filter oos by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'ActualVisitStartTime_Day')\")}};\r\noos_result = group oos by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name');\r\n          oos_result = foreach oos_result generate oos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store',oos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name' as 'Store Group',oos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account',oos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State' as 'State',oos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City',oos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name' as 'Location',avg(oos.'Compliance_Percentage') as 'OOS_Compliance_Percentage';\r\n \r\n --Facings Calculation\r\nfcs = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\"; \r\nfcs = filter fcs by 'Include_In_Compliance' == \"True\";\r\nfcs = filter fcs by 'Type_Computed' == \"Facing\";\r\nfcs = filter fcs by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'ActualVisitStartTime_Day')\")}};\r\nfcs = group fcs by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name');\r\nfcs = foreach fcs generate fcs.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store',fcs.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name' as 'Store Group',fcs.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account',fcs.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State' as 'State',fcs.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City',fcs.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name' as 'Location',avg(fcs.'Compliance_Percentage') as 'FCS_Compliance_Percentage';\r\n       \r\n  --Promotion Compliance Calculation\r\npromo = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\"; \r\npromo = filter promo by 'Include_In_Compliance' == \"True\";\r\npromo = filter promo by 'Type_Computed' == \"Promotion\";\r\npromo= filter promo by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'ActualVisitStartTime_Day')\")}};\r\npromo = group promo by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name');\r\npromo = foreach promo generate promo.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store',promo.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name' as 'Store Group',promo.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account',promo.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State' as 'State',promo.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City',promo.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name' as 'Location',avg(promo.'Compliance_Percentage') as 'Promo_Compliance_Percentage';\r\n        \r\n \r\n -- Compliance% Calculation\r\ncomp = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\ncomp = filter comp by 'Include_In_Compliance' == \"True\";\r\ncomp = filter comp by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('ActualVisitStartTime_Year', 'ActualVisitStartTime_Month', 'ActualVisitStartTime_Day')\")}};\r\ncomp = group comp by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name');\r\ncomp = foreach comp generate comp.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store',comp.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_RetailStoreGroup_Name' as 'Store Group',comp.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account',comp.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_State' as 'State',comp.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City' as 'City',comp.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Name' as 'Location',avg(comp.'Compliance_Percentage') as 'Compliance_Percentage';\r\n\r\n-- NPS Calculation\r\nnps = load \"${App.Datasets.CG_SurveyQuestionResponse5_tp.FullyQualifiedName}\";\r\nnps = filter nps by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('SurveyResponse_CompletionDateTime_Year', 'SurveyResponse_CompletionDateTime_Month', 'SurveyResponse_CompletionDateTime_Day')\")}};\r\nnps_A = filter nps by 'ResponseValueBucket' == \"Detractors\";\r\nnps_B = filter nps by 'ResponseValueBucket' == \"Promoters\";\r\nnps_result = group nps by ('SurveyResponse_SurveySubject_StoreName','SurveyResponse_SurveySubject_StoreGroup','SurveyResponse_SurveySubject_Account','SurveyResponse_SurveySubject_State','SurveyResponse_SurveySubject_City','SurveyResponse_SurveySubject_Location')  full,nps_A by ('SurveyResponse_SurveySubject_StoreName','SurveyResponse_SurveySubject_StoreGroup','SurveyResponse_SurveySubject_Account','SurveyResponse_SurveySubject_State','SurveyResponse_SurveySubject_City','SurveyResponse_SurveySubject_Location') full , nps_B by ('SurveyResponse_SurveySubject_StoreName','SurveyResponse_SurveySubject_StoreGroup','SurveyResponse_SurveySubject_Account','SurveyResponse_SurveySubject_State','SurveyResponse_SurveySubject_City','SurveyResponse_SurveySubject_Location');\r\nnps_result = foreach nps_result generate  nps.'SurveyResponse_SurveySubject_StoreName' as 'Store', nps.'SurveyResponse_SurveySubject_StoreGroup' as 'Store Group',nps.'SurveyResponse_SurveySubject_Account' as 'Account',nps.'SurveyResponse_SurveySubject_State' as 'State',nps.'SurveyResponse_SurveySubject_City' as 'City',nps.'SurveyResponse_SurveySubject_Location' as 'Location',count(nps_A) as 'detractor_count', count(nps_B) as 'promoter_count', count(nps) as 'total_survey';\r\nnps_result = foreach nps_result generate   'Store', 'Store Group', 'Account', 'State', 'City', 'Location','detractor_count'/'total_survey' as 'detractors_percent','promoter_count'/'total_survey' as 'promoters_percent';\r\nnps_result = foreach nps_result generate   'Store', 'Store Group', 'Account', 'State', 'City', 'Location', ('promoters_percent'-'detractors_percent') as 'NPS_score_percentage';\r\n             \r\n--Total Cases\r\ncase1 = load \"${App.Datasets.CG_Case5_tp.FullyQualifiedName}\";\r\ncase1 = filter case1 by {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('CreatedDate_Year', 'CreatedDate_Month', 'CreatedDate_Day')\")}};\r\ncase1 = group case1 by ('RetailStore_Name','RetailStore_RetailStoreGroup_Name','RetailStore_Account_Name','RetailStore_Location_Address_State','RetailStore_Location_Address_City','RetailStore_Location_Name');\r\ncase1 = foreach case1 generate 'RetailStore_Name' as 'Store','RetailStore_RetailStoreGroup_Name'as 'Store Group','RetailStore_Account_Name' as 'Account','RetailStore_Location_Address_State' as 'State','RetailStore_Location_Address_City' as 'City','RetailStore_Location_Name' as 'Location',count() as 'Total_Cases';\r\n\r\n--Days since last Visit\r\nvisit = load \"${App.Datasets.CG_Visit5_tp.FullyQualifiedName}\";\r\nvisit = group visit by ('RetailStore_Name','RetailStore_RetailStoreGroup_Name','RetailStore_Account_Name','RetailStore_Location_Address_State','RetailStore_Location_Address_City','RetailStore_Location_Name');\r\nvisit = foreach visit generate 'RetailStore_Name' as 'Store','RetailStore_RetailStoreGroup_Name'as 'Store Group','RetailStore_Account_Name' as 'Account','RetailStore_Location_Address_State' as 'State','RetailStore_Location_Address_City' as 'City','RetailStore_Location_Name' as 'Location',(max(visit.'ActualVisitStartTime_sec_epoch')) as 'last_visited_time';\r\nvisit = foreach visit generate  'Store','Store Group','Account','State','City','Location', daysBetween(toDate(last_visited_time), now() ) as 'days_since_last_visited';\r\n\r\n--final multidataset table\r\nfinal_table = cogroup store1 by ('Store','Store Group','Account','State','City','Location') full,order1 by ('Store','Store Group','Account','State','City','Location') full,sos by ('Store','Store Group','Account','State','City','Location') full,fcs by ('Store','Store Group','Account','State','City','Location') full,oos_result by ('Store','Store Group','Account','State','City','Location') full,comp by ('Store','Store Group','Account','State','City','Location') full,promo by ('Store','Store Group','Account','State','City','Location')full,nps_result by ('Store','Store Group','Account','State','City','Location') full,case1 by ('Store','Store Group','Account','State','City','Location') full,visit by ('Store','Store Group','Account','State','City','Location');\r\n\r\nfinal_table = foreach final_table generate coalesce(store1.'Store', order1.'Store', sos.'Store', fcs.'Store', oos_result.'Store',comp.'Store',promo.'Store',nps_result.'Store',case1.'Store',visit.'Store') as 'RetailStore_Name', coalesce(store1.'Location', order1.'Location', sos.'Location', fcs.'Location', oos_result.'Location',comp.'Location',promo.'Location',nps_result.'Location',case1.'Location',visit.'Location') as 'RetailStore_Location_Name',coalesce(store1.'Account', order1.'Account', sos.'Account', fcs.'Account', oos_result.'Account',comp.'Account',promo.'Account',nps_result.'Account',case1.'Account',visit.'Account') as 'RetailStore_Account_Name',coalesce(store1.'State', order1.'State', sos.'State', fcs.'State',oos_result.'State',comp.'State',promo.'State',nps_result.'State',case1.'State',visit.'State') as 'RetailStore_Location_Address_State',coalesce(store1.'City', order1.'City', sos.'City', fcs.'City',oos_result.'City',comp.'City',promo.'City',nps_result.'City',case1.'City',visit.'City') as 'RetailStore_Location_Address_City'\r\n,sum(order1.'Sales') as 'Sales',sum(order1.'Quantity') as 'Quantity',avg(sos.'SoS_Compliance_Percentage') as 'Share_of_Shelf',sum(oos_result.'OOS_Compliance_Percentage') as 'Out_of_Stock',avg(fcs.'FCS_Compliance_Percentage') as 'Facings',avg(promo.'Promo_Compliance_Percentage') as 'Promotions',\r\nsum(nps_result.'NPS_score_percentage') as 'NPS',sum(case1.'Total_Cases') as 'Total Cases',sum(visit.'days_since_last_visited') as 'days_since_last_visit',avg(comp.'Compliance_Percentage') as 'Compliance_Percentage_1';\r\nfinal_table = filter final_table by 'RetailStore_Name' is not null; \r\nfinal_table = order final_table  by 'Compliance_Percentage_1' desc;",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "Planned_Start_Time_1"
          ]
        },
        "selectMode" : "single",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "borderColor" : "#e0e5ee",
            "borderWidth" : 1,
            "cell" : {
              "backgroundColor" : "#ffffff",
              "fontColor" : "#16325c",
              "fontSize" : 12
            },
            "columnProperties" : {
              "NPS" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              },
              "days_since_last_visit" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              },
              "Sales" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              },
              "Promotions" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              },
              "Total Cases" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              },
              "Compliance_Percentage_1" : {
                "parameters" : { },
                "type" : "bar"
              },
              "Facings" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              },
              "Share_of_Shelf" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              },
              "Out_of_Stock" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              },
              "Quantity" : {
                "parameters" : {
                  "alignment" : "left"
                },
                "type" : "text"
              }
            },
            "columns" : [ ],
            "customBulkActions" : [ ],
            "header" : {
              "backgroundColor" : "#f4f6f9",
              "fontColor" : "#16325c",
              "fontSize" : 12
            },
            "innerMajorBorderColor" : "#a8b7c7",
            "innerMinorBorderColor" : "#e0e5ee",
            "mode" : "fittocontainer",
            "numberOfLines" : 1,
            "showActionMenu" : true,
            "showRowIndexColumn" : false,
            "totals" : true,
            "verticalPadding" : 8
          },
          "type" : "table"
        }
      },
      "decline_city_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "decline_city",
        "numbers" : [ ],
        "query" : "--City Details\r\ncity1 = load \"${App.Datasets.CG_Visit5_tp.FullyQualifiedName}\";\r\ncity1 = group city1 by 'RetailStore_Location_Address_City';\r\ncity1 = foreach city1 generate 'RetailStore_Location_Address_City' as 'City';\r\n\r\n-- Decline in Sales(CG_OrderItem)\r\nsales = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\r\nsales_A = filter sales by 'Order_ActivatedDate_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Min\").asString()}} && 'Order_ActivatedDate_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Max\").asString()}};\r\nsales_B = filter sales by  'Order_ActivatedDate_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Compare_Min\").asString()}} && 'Order_ActivatedDate_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Compare_Max\").asString()}};\r\ntotal_sale = group sales_A by ('Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') full,\r\nsales_B by ('Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City');\r\ntotal_sale = foreach total_sale generate coalesce(sales_A.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', sales_B.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') as 'City', sum(sales_A.'TotalPrice') as 'current_sales', sum(sales_B.'TotalPrice') as 'previous_sales';\r\ntotal_sale = foreach total_sale generate 'City','current_sales', 'previous_sales',(current_sales-previous_sales)/(previous_sales) as 'Decline_percent',(current_sales)-(previous_sales) as 'Decline';\r\ntotal_sale = filter total_sale by 'Decline_percent' is not null;\r\ntotal_sale = foreach total_sale generate 'City','Decline','Decline_percent';\r\n\r\n--Decline in Quantity(CG_OrderItem)\r\nqty = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\r\nqty_A = filter qty by 'Order_ActivatedDate_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Min\").asString()}} && 'Order_ActivatedDate_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Max\").asString()}};\r\nqty_B = filter qty by 'Order_ActivatedDate_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Compare_Min\").asString()}} && 'Order_ActivatedDate_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Compare_Max\").asString()}};\r\ntotal_qty = group qty_A by ('Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') full,\r\nqty_B by ('Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City');\r\ntotal_qty = foreach total_qty generate coalesce(qty_A.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', qty_B.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') as 'City', sum(qty_A.'Quantity') as 'current_qty', sum(qty_B.'Quantity') as 'previous_qty';\r\ntotal_qty = foreach total_qty generate 'City','current_qty', 'previous_qty', (current_qty-previous_qty)/(previous_qty) as 'Decline_percent', (current_qty)-(previous_qty) as 'Decline';\r\ntotal_qty = filter total_qty by 'Decline_percent' is not null;\r\ntotal_qty = foreach total_qty generate 'City','Decline','Decline_percent';\r\n\r\n---Decline in SalesVelocity\r\nsv = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\r\nsv_A = filter sv by 'Order_ActivatedDate_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Min\").asString()}} && 'Order_ActivatedDate_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Max\").asString()}};\r\nsv_B = filter sv by 'Order_ActivatedDate_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Compare_Min\").asString()}} && 'Order_ActivatedDate_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Compare_Max\").asString()}};\r\ntotal_sv = group sv_A by ('Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') full,\r\nsv_B by ('Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City');\r\ntotal_sv = foreach total_sv generate coalesce(sv_A.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', sv_B.'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') as 'City',sum(sv_A.'TotalPrice')/unique(sv_A.'Order_ActivatedDate_Week') as 'current_sv',sum(sv_B.'TotalPrice')/unique(sv_B.'Order_ActivatedDate_Week') as 'previous_sv';\r\ntotal_sv = foreach total_sv generate 'City','current_sv', 'previous_sv', (current_sv-previous_sv)/(previous_sv) as 'Decline_percent', (current_sv)-(previous_sv) as 'Decline';\r\ntotal_sv = filter total_sv by 'Decline_percent' is not null;\r\ntotal_sv = foreach total_sv generate 'City','Decline','Decline_percent';\r\n\r\n---Decline in Compliance (CG_RetailVisitKpi)\r\ncomp = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\ncomp = filter comp by 'Include_In_Compliance' == \"True\";\r\ncomp_A = filter comp by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Max\").asString()}};\r\ncomp_B = filter comp by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Compare_Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Compare_Max\").asString()}};\r\ntotal_comp = group comp_A by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name') full, comp_B by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\ntotal_comp = foreach total_comp generate coalesce(comp_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', comp_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') as 'City', coalesce(comp_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name', comp_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name') as 'Store_Name', avg(comp_A.'Compliance_Percentage') as 'current_comp', avg(comp_B.'Compliance_Percentage') as 'previous_comp';\r\ntotal_comp = group total_comp by 'City';\r\ntotal_comp = foreach total_comp generate 'City', avg('current_comp') as 'current_comp', avg('previous_comp') as 'previous_comp';\r\ntotal_comp = foreach total_comp generate 'City','current_comp', 'previous_comp', (current_comp-previous_comp)/(previous_comp) as 'Decline_percent', (current_comp)-(previous_comp) as 'Decline';\r\ntotal_comp = filter total_comp by 'Decline_percent' is not null;\r\ntotal_comp = foreach total_comp generate 'City','Decline','Decline_percent';\r\n\r\n---Decline in FacingCompliance (CG_RetailVisitKpi)\r\nfcs = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nfcs = filter fcs by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Facing\";\r\nfcs_A = filter fcs by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Max\").asString()}};\r\nfcs_B = filter fcs by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Compare_Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Compare_Max\").asString()}};\r\ntotal_fcs = group fcs_A by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name') full, fcs_B by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\ntotal_fcs = foreach total_fcs generate coalesce(fcs_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', fcs_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') as 'City', coalesce(fcs_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name', fcs_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name') as 'Store_Name', avg(fcs_A.'Compliance_Percentage') as 'current_fcs', avg(fcs_B.'Compliance_Percentage') as 'previous_fcs';\r\ntotal_fcs = group total_fcs by 'City';\r\ntotal_fcs = foreach total_fcs generate 'City', avg('current_fcs') as 'current_fcs', avg('previous_fcs') as 'previous_fcs';\r\ntotal_fcs = foreach total_fcs generate 'City','current_fcs', 'previous_fcs', (current_fcs-previous_fcs)/(previous_fcs) as 'Decline_percent', (current_fcs)-(previous_fcs) as 'Decline';\r\ntotal_fcs = filter total_fcs by 'Decline_percent' is not null;\r\ntotal_fcs = foreach total_fcs generate 'City','Decline','Decline_percent';\r\n\r\n---Decline in SoSCompliance (CG_RetailVisitKpi)\r\nsos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nsos = filter sos by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"ShareOfShelf\";\r\nsos_A = filter sos by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Max\").asString()}};\r\nsos_B = filter sos by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Compare_Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Compare_Max\").asString()}};\r\ntotal_sos = group sos_A by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name') full, sos_B by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\ntotal_sos = foreach total_sos generate coalesce(sos_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', sos_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') as 'City', coalesce(sos_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name', sos_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name') as 'Store_Name', avg(sos_A.'Compliance_Percentage') as 'current_sos', avg(sos_B.'Compliance_Percentage') as 'previous_sos';\r\ntotal_sos = group total_sos by 'City';\r\ntotal_sos = foreach total_sos generate 'City', avg('current_sos') as 'current_sos', avg('previous_sos') as 'previous_sos';\r\ntotal_sos = foreach total_sos generate 'City','current_sos', 'previous_sos', (current_sos-previous_sos)/(previous_sos) as 'Decline_percent', (current_sos)-(previous_sos) as 'Decline';\r\ntotal_sos = filter total_sos by 'Decline_percent' is not null;\r\ntotal_sos = foreach total_sos generate 'City','Decline','Decline_percent';\r\n\r\n---Decline in OutofStock (CG_RetailVisitKpi)\r\noos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\noos = filter oos by 'ActualBooleanValue' == \"True\" and 'Type_Computed' == \"OutofStock\";\r\noos_A = filter oos by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Max\").asString()}};\r\noos_B = filter oos by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Compare_Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Compare_Max\").asString()}};\r\ntotal_oos = group oos_A by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') full, oos_B by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City');\r\ntotal_oos = foreach total_oos generate coalesce(oos_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', oos_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') as 'City', count(oos_A) as 'current_oos', count(oos_B) as 'previous_oos';\r\ntotal_oos = foreach total_oos generate 'City','current_oos', 'previous_oos', (current_oos-previous_oos)/(previous_oos) as 'Decline_percent', (current_oos)-(previous_oos) as 'Decline';\r\ntotal_oos = filter total_oos by 'Decline_percent' is not null;\r\ntotal_oos = foreach total_oos generate 'City','Decline','Decline_percent';\r\n\r\n---Decline in PromotionCompliance (CG_RetailVisitKpi)\r\n promo = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\npromo = filter promo by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Promotion\";\r\npromo_A = filter promo by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Max\").asString()}};\r\npromo_B = filter promo by 'ActualVisitStartTime_sec_epoch' >= {{cell(date_parser_1.result, 0, \"Compare_Min\").asString()}} && 'ActualVisitStartTime_sec_epoch' <= {{cell(date_parser_1.result, 0, \"Compare_Max\").asString()}};\r\ntotal_promo = group promo_A by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name') full, promo_B by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\ntotal_promo = foreach total_promo generate coalesce(promo_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City', promo_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Location_Address_City') as 'City', coalesce(promo_A.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name', promo_B.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name') as 'Store_Name', avg(promo_A.'Compliance_Percentage') as 'current_promo', avg(promo_B.'Compliance_Percentage') as 'previous_promo';\r\ntotal_promo = group total_promo by 'City';\r\ntotal_promo = foreach total_promo generate 'City', avg('current_promo') as 'current_promo', avg('previous_promo') as 'previous_promo';\r\ntotal_promo = foreach total_promo generate 'City','current_promo', 'previous_promo', (current_promo-previous_promo)/(previous_promo) as 'Decline_percent', (current_promo)-(previous_promo) as 'Decline';\r\ntotal_promo = filter total_promo by 'Decline_percent' is not null;\r\ntotal_promo = foreach total_promo generate 'City','Decline','Decline_percent';\r\n\r\n--final multidataset table\r\nfinal_table = cogroup \r\n\r\n  city1 by 'City' full, total_sale by  'City' full,\r\n              total_qty by  'City' full,\r\n              total_sv by  'City' full,\r\n total_fcs by  'City' full,\r\n total_comp by 'City' full,\r\ntotal_sos by 'City' full, total_oos by 'City' full,total_promo by 'City';\r\nfinal_table = foreach final_table generate\r\n        \r\n        coalesce(city1.'City',total_sale.'City',total_qty.'City',total_sv.'City',total_fcs.'City',total_comp.'City',total_sos.'City',total_oos.'City',total_promo.'City') as 'City',\r\n sum(total_sale.'Decline') as 'Sales_Decline',\r\n         sum(total_sale.'Decline_percent') as 'Sales_Decline_percent',\r\n         sum(total_qty.'Decline') as 'Quantity_Decline',\r\n       sum(total_qty.'Decline_percent') as 'Quantity_Decline_percent',\r\n  sum(total_fcs.'Decline') as 'FCS_Decline', \r\n  sum(total_fcs.'Decline_percent') as 'FCS_Decline_percent',      avg(total_sv.'Decline') as 'SalesVelocity_Decline',\r\n         avg(total_sv.'Decline_percent') as 'SalesVelocity_Decline_percent',\r\n         avg(total_comp.'Decline') as 'CompliancePercent_Decline',\r\n         avg(total_comp.'Decline_percent') as 'CompliancePercent_Decline_percent',\r\n  avg(total_sos.'Decline') as 'SoS_Decline',\r\n         avg(total_sos.'Decline_percent') as 'SoS_Decline_percent',\r\n sum(total_oos.'Decline') as 'OOS_Decline',\r\n         sum(total_oos.'Decline_percent') as 'OOS_Decline_percent',\r\n         avg(total_promo.'Decline') as 'Promo_Decline',\r\n         avg(total_promo.'Decline_percent') as 'Promo_Decline_percent';\r\nfinal_table1 = group final_table by  'City';\r\nfinal_table1 = foreach final_table1 generate\r\n 'City' as 'RetailStore_Location_Address_City', {{row(picklist_1_1.selection,[0],[\"Field_value_decline_percent\",\"Alias_decline_percent\"]).asProjection()}};\r\nfinal_table1 = filter final_table1 by {{cell(picklist_1_1.selection,0,\"Alias_decline_percent\").asObject()}} is not null;\r\nfinal_table1 = foreach final_table1 generate\r\n 'RetailStore_Location_Address_City', {{cell(picklist_1_1.selection,0,\"Alias_decline_percent\").asObject()}};\r\nfinal_table1 = order final_table1 by {{cell(picklist_1_1.selection,0,\"Alias_decline_percent\").asObject()}} asc;",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "Planned_Start_Time_1",
            "decline_city_1"
          ]
        },
        "selectMode" : "single",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "lens_6" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "sales_salesvelocity",
        "numbers" : [
          "Sales",
          "SalesVelocity",
          "Quantity"
        ],
        "query" : "order1 = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\norder1 = group order1 by( 'Order_ActivatedDate_Year','Order_ActivatedDate_Week');\norder1 = foreach order1 generate 'Order_ActivatedDate_Year'+\"-\"+'Order_ActivatedDate_Week' as 'YearWeek',sum('TotalPrice') as 'Sales', unique('OrderId') as 'Orders', sum('Quantity') as 'Quantity';\norder1 = group order1 by all;\norder1 = foreach order1 generate  sum('Sales') as 'Sales', sum('Sales')/unique('YearWeek') as 'SalesVelocity',sum('Quantity') as 'Quantity';",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [ ],
              "plots" : [
                "Sales",
                "SalesVelocity",
                "Quantity"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "picklist_1_1" : {
        "broadcastFacet" : true,
        "columns" : {
          "Field_value_city" : {
            "type" : "string"
          },
          "Alias_decline_percent" : {
            "type" : "string"
          },
          "Api_name_city" : {
            "type" : "string"
          },
          "Field_value_trend" : {
            "type" : "string"
          },
          "Api_name_trend" : {
            "type" : "string"
          },
          "Field_value_acct" : {
            "type" : "string"
          },
          "Field_value_decline_percent" : {
            "type" : "string"
          },
          "Api_name_acct" : {
            "type" : "string"
          },
          "Custom_text" : {
            "type" : "string"
          },
          "Display" : {
            "type" : "string"
          }
        },
        "label" : "picklist_1",
        "selectMode" : "singlerequired",
        "start" : {
          "Display" : [
            "Total Quantity"
          ]
        },
        "type" : "staticflex",
        "values" : [
          {
            "Display" : "Revenue",
            "Field_value_trend" : "sum('Total_Sales')",
            "Api_name_trend" : "Total_Sales",
            "Field_value_city" : "sum('total_sales')",
            "Api_name_city" : "total_sales",
            "Field_value_acct" : "sum('total_sales')",
            "Api_name_acct" : "total_sales",
            "Field_value_decline_percent" : "sum('Sales_Decline_percent')",
            "Alias_decline_percent" : "Decline_percent"
          },
          {
            "Display" : "Quantity",
            "Field_value_trend" : "sum('Total_Quantity')",
            "Api_name_trend" : "Total_Quantity",
            "Field_value_city" : "sum('total_quantity')",
            "Api_name_city" : "total_quantity",
            "Field_value_acct" : "sum('total_qty')",
            "Api_name_acct" : "total_qty",
            "Field_value_decline_percent" : "sum('Quantity_Decline_percent')",
            "Alias_decline_percent" : "Decline_percent",
            "Custom_text" : "To view stores by Quantity for a specific product or category, set the appropriate filters in the filter bar."
          },
          {
            "Display" : "Avg Weekly Revenue",
            "Field_value_trend" : "avg('avg_sales_velocity')",
            "Api_name_trend" : "avg_sales_velocity",
            "Field_value_city" : "avg('avg_sales_velocity')",
            "Api_name_city" : "avg_sales_velocity",
            "Field_value_acct" : "avg('avg_sales_velocity')",
            "Api_name_acct" : "avg_sales_velocity",
            "Field_value_decline_percent" : "avg('SalesVelocity_Decline_percent')",
            "Alias_decline_percent" : "Decline_percent"
          },
          {
            "Display" : "Avg Store Compliance",
            "Field_value_trend" : "avg('Avg_Compliance_Percentage')",
            "Api_name_trend" : "Avg_Compliance_Percentage",
            "Field_value_city" : "avg('Avg_CompliancePercentage')",
            "Api_name_city" : "Avg_CompliancePercentage",
            "Field_value_acct" : "avg('Avg_CompliancePercentage')",
            "Api_name_acct" : "Avg_CompliancePercentage",
            "Field_value_decline_percent" : "avg('CompliancePercent_Decline_percent')",
            "Alias_decline_percent" : "Decline_percent"
          },
          {
            "Display" : "Out of Stock Occurrences",
            "Field_value_trend" : "sum('OutOfStock_Count')",
            "Api_name_trend" : "OutOfStock_Count",
            "Field_value_city" : "sum('OutOfStock_Count')",
            "Api_name_city" : "OutOfStock_Count",
            "Field_value_acct" : "sum('OutOfStock_Count')",
            "Api_name_acct" : "OutOfStock_Count",
            "Field_value_decline_percent" : "sum('OOS_Decline_percent')",
            "Alias_decline_percent" : "Decline_percent"
          },
          {
            "Display" : "Avg Share of Shelf Compliance",
            "Field_value_trend" : "avg('avg_SOSCompliance_Percentage')",
            "Api_name_trend" : "avg_SOSCompliance_Percentage",
            "Field_value_city" : "avg('Avg_SoSCompliance_Percentage')",
            "Api_name_city" : "Avg_SoSCompliance_Percentage",
            "Field_value_acct" : "avg('Avg_SoSCompliance_Percentage')",
            "Api_name_acct" : "Avg_SoSCompliance_Percentage",
            "Field_value_decline_percent" : "avg('SoS_Decline_percent')",
            "Alias_decline_percent" : "Decline_percent"
          },
          {
            "Display" : "Avg Facing Compliance",
            "Field_value_trend" : "avg('avg_FCSCompliance_Percentage')",
            "Api_name_trend" : "avg_FCSCompliance_Percentage",
            "Field_value_city" : "avg('Avg_FacingsCompliance_Percentage')",
            "Api_name_city" : "Avg_FacingsCompliance_Percentage",
            "Field_value_acct" : "avg('Avg_FacingsCompliance_Percentage')",
            "Api_name_acct" : "Avg_FacingsCompliance_Percentage",
            "Field_value_decline_percent" : "avg('FCS_Decline_percent')",
            "Alias_decline_percent" : "Decline_percent"
          },
          {
            "Display" : "Avg Promotion Compliance",
            "Field_value_trend" : "avg('avg_PromoCompliance_Percentage')",
            "Api_name_trend" : "avg_PromoCompliance_Percentage",
            "Field_value_city" : "avg('Avg_PromoCompliance_Percentage')",
            "Api_name_city" : "Avg_PromoCompliance_Percentage",
            "Field_value_acct" : "avg('Avg_PromoCompliance_Percentage')",
            "Api_name_acct" : "Avg_PromoCompliance_Percentage",
            "Field_value_decline_percent" : "avg('Promo_Decline_percent')",
            "Alias_decline_percent" : "Decline_percent"
          }
        ]
      },
      "product_toggle_1" : {
        "broadcastFacet" : true,
        "columns" : {
          "Field_Value" : {
            "type" : "string"
          },
          "API_Name" : {
            "type" : "string"
          },
          "Display" : {
            "type" : "string"
          }
        },
        "label" : "product_toggle",
        "selectMode" : "singlerequired",
        "start" : {
          "Display" : [
            "Product"
          ]
        },
        "type" : "staticflex",
        "values" : [
          {
            "Display" : "Product",
            "Field_Value" : "'Product'",
            "API_Name" : "undefined_Custom"
          },
          {
            "Display" : "Product Category",
            "Field_Value" : "'Product_Category'",
            "API_Name" : "undefined_Custom"
          }
        ]
      },
      "lens_4" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "Account_Sales",
        "numbers" : [ ],
        "query" : "-- Share of Shelf\r\nsos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nsos = filter sos by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"ShareOfShelf\";\r\nsos = group sos by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\nsos = foreach sos generate 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_SoSCompliance_Percentage';\r\nsos = group sos by 'Account';\r\nsos = foreach sos generate 'Account', avg('Avg_SoSCompliance_Percentage') as 'Avg_SoSCompliance_Percentage';\r\n-- Order Details\r\norder1 = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\r\norder1 = group order1 by( 'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','Order_ActivatedDate_Year','Order_ActivatedDate_Week');\r\norder1 = foreach order1 generate 'Order_AssessmentTaskOrder_AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account','Order_ActivatedDate_Year'+\"-\"+'Order_ActivatedDate_Week' \r\nas 'YearWeek', sum('TotalPrice') as 'Sales',sum('Quantity') as 'Quantity';\r\norder1 = group order1 by 'Account';\r\norder1 = foreach order1 generate 'Account', (sum('Sales')/unique('YearWeek')) as 'avg_sales_velocity',sum ('Sales') as 'Sales',sum('Quantity') as 'Quantity';\r\n--OutOfStock\r\noos = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\noos = filter oos by 'ActualBooleanValue'== \"True\" and 'Type_Computed' == \"OutOfStock\";\r\noos_result = group oos by 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name';\r\noos_result = foreach oos_result generate oos.'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account',count(oos) as 'OutOfStock_Count';\r\n-- Compliance% Calculation\r\ncomp = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\ncomp = filter comp by 'Include_In_Compliance' == \"True\";\r\ncomp_result = group comp by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\ncomp_result = foreach comp_result generate 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_Compliance_Percentage';\r\ncomp_result = group comp_result by 'Account';\r\ncomp_result = foreach comp_result generate 'Account' as 'Account', avg('Avg_Compliance_Percentage') as 'Avg_CompliancePercentage';\r\n-- FacingsCompliance% Calculation\r\nfcs = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\nfcs = filter fcs by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Facing\";\r\nfcs = group fcs by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\nfcs = foreach fcs generate 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_FacingsCompliance_Percentage';\r\nfcs = group fcs by 'Account';\r\nfcs = foreach fcs generate 'Account', avg('Avg_FacingsCompliance_Percentage') as 'Avg_FacingsCompliance_Percentage';\r\n--PromotionCompliance\r\npromo = load \"${App.Datasets.CG_RetailVisitKpi5_tp.FullyQualifiedName}\";\r\npromo = filter promo by 'Include_In_Compliance' == \"True\" and 'Type_Computed' == \"Promotion\";\r\npromo = group promo by ('AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name','AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name');\r\npromo = foreach promo generate 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name' as 'Account', 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Name' as 'Store_Name', avg('Compliance_Percentage') as 'Avg_PromoCompliance_Percentage';\r\npromo = group promo by 'Account';\r\npromo = foreach promo generate 'Account', avg('Avg_PromoCompliance_Percentage') as 'Avg_PromoCompliance_Percentage';\r\n--final multidataset table \r\nfinal_table = cogroup order1 by  'Account' full, sos by  'Account' full, oos_result by  'Account' full, comp_result by  'Account' full,fcs by 'Account' full,  promo by 'Account';\r\nfinal_table = foreach final_table generate coalesce(comp_result.'Account',order1.'Account',sos.'Account',oos_result.'Account',fcs.'Account',promo.'Account') as 'Account',avg(order1.'avg_sales_velocity') as 'avg_sales_velocity',sum(order1.'Sales') as 'total_sales',sum(order1.'Quantity') as 'total_qty',\r\nsum(oos_result.'OutOfStock_Count') as 'OutOfStock_Count',avg(sos.'Avg_SoSCompliance_Percentage') as 'Avg_SoSCompliance_Percentage',avg(comp_result.'Avg_CompliancePercentage') as 'Avg_CompliancePercentage',avg(fcs.'Avg_FacingsCompliance_Percentage') as 'Avg_FacingsCompliance_Percentage',avg(promo.'Avg_PromoCompliance_Percentage') as 'Avg_PromoCompliance_Percentage';\r\nfinal_table1 = group final_table by 'Account';\r\nfinal_table1 = filter final_table1 by {{cell(picklist_1_1.selection,0,\"Api_name_acct\").asObject()}} is not null;\r\nfinal_table1 = foreach final_table1 generate 'Account' as 'AssessmentTask_ActionPlanItem_ActionPlan_Visit_RetailStore_Account_Name',{{cell(picklist_1_1.selection,0,\"Field_value_acct\").asObject()}}  as '{{cell(picklist_1_1.selection,0,\"Api_name_acct\").asObject()}}';\r\nfinal_table1 = order final_table1 by {{cell(picklist_1_1.selection,0,\"Api_name_acct\").asObject()}} desc;",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "lens_4"
          ]
        },
        "selectMode" : "single",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : false,
              "show" : false,
              "customSize" : "auto",
              "position" : "bottom-center",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "binValues" : false,
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "Planned_Start_Time_1" : {
        "broadcastFacet" : true,
        "datasets" : [
          {
            "name" : "${App.Datasets.CG_Visit5_tp.Name}"
          }
        ],
        "isGlobal" : false,
        "query" : {
          "query" : {
            "measures" : [
              [
                "count",
                "*"
              ]
            ],
            "groups" : [
              "PlannedVisitStartTime"
            ]
          },
          "version" : -1.0
        },
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "start" : [
          [
            [
              "year",
              0
            ],
            [
              "year",
              0
            ]
          ]
        ],
        "type" : "aggregateflex",
        "useGlobal" : true,
        "visualizationParameters" : { }
      },
      "lens_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "promo_count",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.CG_Promotion5_tp.FullyQualifiedName}\";\r\nlive_result = filter q by  date('StartDate_Year', 'StartDate_Month', 'StartDate_Day') in [..\"current day\"] and date('EndDate_Computed_Year', 'EndDate_Computed_Month', 'EndDate_Computed_Day') in [\"current day\"..];\r\ntotal_result =  filter q by ({{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('StartDate_Year', 'StartDate_Month', 'StartDate_Day')\")}} or {{row(Planned_Start_Time_1.selection, [0], [\"min\", \"max\"]).asDateRange(\"date('EndDate_Computed_Year', 'EndDate_Computed_Month', 'EndDate_Computed_Day')\")}}) or (date('StartDate_Year', 'StartDate_Month', 'StartDate_Day') in [dateRange([1970,01,01], {{cell(date_parser_1.result, 0, \"Date_Min\").asString()}})] and date('EndDate_Year', 'EndDate_Month', 'EndDate_Day') in [dateRange({{cell(date_parser_1.result, 0, \"Date_Max\").asString()}}, [2038,01,01])]);\r\nresult = group total_result by all full, live_result by all;\r\nresult = foreach result generate  count(live_result) as 'live_promo_count', count(total_result) as 'total_promo_count';\r\nresult_fake = foreach q  generate 0 as 'live_promo_count',0 as 'total_promo_count';\r\nresult_final = union result,result_fake;\r\nresult_final = group result_final by all;\r\nresult_final = foreach result_final generate sum('live_promo_count') as 'live_promo_count',sum('total_promo_count') as 'total_promo_count';",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "Planned_Start_Time_1"
          ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "product_sold_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "product_sold",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.CG_OrderItem5_tp.FullyQualifiedName}\";\nq = group q by all;\nq = foreach q generate unique('Product2Id') as 'unique_Product2Id';\nq = limit q 2000;",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [ ],
              "plots" : [
                "unique_Product2Id"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      }
    },
    "widgetStyle" : {
      "backgroundColor" : "#FFFFFF",
      "borderColor" : "#E6ECF2",
      "borderEdges" : [ ],
      "borderRadius" : 0,
      "borderWidth" : 1
    },
    "widgets" : {
      "text_18" : {
        "parameters" : {
          "fontSize" : 14,
          "showActionMenu" : true,
          "text" : "Performance by City",
          "textAlignment" : "left",
          "textColor" : "#E6ECF2"
        },
        "type" : "text"
      },
      "text_17" : {
        "parameters" : {
          "fontSize" : 16,
          "showActionMenu" : true,
          "text" : "",
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "text_19" : {
        "parameters" : {
          "fontSize" : 16,
          "showActionMenu" : true,
          "text" : "",
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "text_14" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "Stores",
          "textAlignment" : "left",
          "textColor" : "rgb(151, 147, 147)"
        },
        "type" : "text"
      },
      "text_13" : {
        "parameters" : {
          "fontSize" : 14,
          "showActionMenu" : true,
          "text" : "{{cell(picklist_1_1.selection,0,\"Display\").asObject()}}",
          "textAlignment" : "center",
          "textColor" : "#FFFFFF"
        },
        "type" : "text"
      },
      "text_16" : {
        "parameters" : {
          "fontSize" : 14,
          "showActionMenu" : true,
          "text" : "% Change vs. Previous Period",
          "textAlignment" : "center",
          "textColor" : "#FFFFFF"
        },
        "type" : "text"
      },
      "text_15" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "Accounts",
          "textAlignment" : "left",
          "textColor" : "rgb(151, 147, 147)"
        },
        "type" : "text"
      },
      "text_10" : {
        "parameters" : {
          "fontSize" : 20,
          "showActionMenu" : false,
          "text" : "{{cell(lens_1.result,0,\"live_promo_count\").asObject()}} / {{cell(lens_1.result,0,\"total_promo_count\").asObject()}}",
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "text_12" : {
        "parameters" : {
          "fontSize" : 18,
          "showActionMenu" : true,
          "text" : "Store Details",
          "textAlignment" : "left",
          "textColor" : "rgb(9, 26, 62)"
        },
        "type" : "text"
      },
      "number_7" : {
        "parameters" : {
          "compact" : true,
          "exploreLink" : true,
          "measureField" : "SalesVelocity",
          "numberColor" : "#091A3E",
          "numberSize" : 20,
          "showActionMenu" : true,
          "step" : "lens_6",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "text_11" : {
        "parameters" : {
          "fontSize" : 16,
          "showActionMenu" : true,
          "text" : "Account by {{cell(picklist_1_1.selection,0,\"Display\").asObject()}}",
          "textAlignment" : "left",
          "textColor" : "rgb(9, 26, 62)"
        },
        "type" : "text"
      },
      "number_6" : {
        "parameters" : {
          "compact" : true,
          "exploreLink" : true,
          "measureField" : "Sales",
          "numberColor" : "#091A3E",
          "numberSize" : 20,
          "showActionMenu" : true,
          "step" : "lens_6",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "container_2" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "container_3" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "container_4" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "filterpanel_3" : {
        "parameters" : {
          "filterItemOptions" : {
            "backgroundColor" : "#FFFFFF",
            "borderColor" : "#E6ECF2",
            "borderRadius" : 0,
            "borderWidth" : 0,
            "propertyColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "filters" : [ ],
          "itemsPerRow" : 7,
          "showAllFilters" : true,
          "title" : {
            "separatorColor" : "#E6ECF2",
            "text" : {
              "align" : "left",
              "color" : "#091A3E",
              "fontSize" : 16,
              "label" : "Filters"
            },
            "visible" : false
          }
        },
        "type" : "filterpanel"
      },
      "text_3" : {
        "parameters" : {
          "fontSize" : 16,
          "showActionMenu" : true,
          "text" : "My Territory",
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "container_6" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "chart_6" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showValues" : true,
          "bins" : {
            "breakpoints" : {
              "high" : 100,
              "low" : 0
            },
            "bands" : {
              "high" : {
                "color" : "#008000",
                "label" : ""
              },
              "low" : {
                "color" : "#B22222",
                "label" : ""
              },
              "medium" : {
                "color" : "#ffa500",
                "label" : ""
              }
            }
          },
          "legend" : {
            "descOrder" : false,
            "showHeader" : true,
            "show" : false,
            "customSize" : "auto",
            "position" : "right-top",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "hbar",
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "binValues" : false,
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "showActionMenu" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : false,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "theme" : "dark",
          "step" : "decline_city_1",
          "dimensionAxis" : {
            "showTitle" : false,
            "customSize" : "auto",
            "showAxis" : true,
            "title" : "",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true
        },
        "type" : "chart"
      },
      "text_2" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "Quantity",
          "textAlignment" : "left",
          "textColor" : "rgb(151, 147, 147)"
        },
        "type" : "text"
      },
      "text_5" : {
        "parameters" : {
          "fontSize" : 16,
          "showActionMenu" : true,
          "text" : "{{cell(picklist_1_1.selection,0,\"Display\").asObject()}} ",
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "text_4" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "Avg Weekly Revenue",
          "textAlignment" : "left",
          "textColor" : "rgb(151, 147, 147)"
        },
        "type" : "text"
      },
      "text_7" : {
        "parameters" : {
          "fontSize" : 14,
          "showActionMenu" : true,
          "text" : "{{cell(picklist_1_1.selection,0,\"Display\").asObject()}} Trend",
          "textAlignment" : "center",
          "textColor" : "#FFFFFF"
        },
        "type" : "text"
      },
      "chart_2" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showValues" : true,
          "bins" : {
            "breakpoints" : {
              "high" : 100,
              "low" : 0
            },
            "bands" : {
              "high" : {
                "color" : "#008000",
                "label" : ""
              },
              "low" : {
                "color" : "#B22222",
                "label" : ""
              },
              "medium" : {
                "color" : "#ffa500",
                "label" : ""
              }
            }
          },
          "legend" : {
            "descOrder" : false,
            "showHeader" : true,
            "show" : false,
            "customSize" : "auto",
            "position" : "right-top",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "hbar",
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "binValues" : false,
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "showActionMenu" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : false,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "theme" : "dark",
          "step" : "zipcode_metric_1",
          "dimensionAxis" : {
            "showTitle" : false,
            "customSize" : "auto",
            "showAxis" : true,
            "title" : "",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true
        },
        "type" : "chart"
      },
      "text_6" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "Promotions (Live/Total)",
          "textAlignment" : "left",
          "textColor" : "rgb(151, 147, 147)"
        },
        "type" : "text"
      },
      "chart_4" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showValues" : true,
          "bins" : {
            "breakpoints" : {
              "high" : 100,
              "low" : 0
            },
            "bands" : {
              "high" : {
                "color" : "#008000",
                "label" : ""
              },
              "low" : {
                "color" : "#B22222",
                "label" : ""
              },
              "medium" : {
                "color" : "#ffa500",
                "label" : ""
              }
            }
          },
          "legend" : {
            "descOrder" : false,
            "showHeader" : true,
            "show" : false,
            "customSize" : "auto",
            "position" : "right-top",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "hbar",
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "binValues" : false,
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "showActionMenu" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : false,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "theme" : "wave",
          "step" : "prod_Prodcat_metric_1",
          "dimensionAxis" : {
            "showTitle" : false,
            "customSize" : "auto",
            "showAxis" : true,
            "title" : "",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true
        },
        "type" : "chart"
      },
      "text_9" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "Show my territory's performance by",
          "textAlignment" : "left",
          "textColor" : "#FFFFFF"
        },
        "type" : "text"
      },
      "chart_3" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showValues" : true,
          "bins" : {
            "breakpoints" : {
              "high" : 100,
              "low" : 0
            },
            "bands" : {
              "high" : {
                "color" : "#008000",
                "label" : ""
              },
              "low" : {
                "color" : "#B22222",
                "label" : ""
              },
              "medium" : {
                "color" : "#ffa500",
                "label" : ""
              }
            }
          },
          "legend" : {
            "descOrder" : false,
            "showHeader" : false,
            "show" : false,
            "customSize" : "auto",
            "position" : "bottom-center",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "hbar",
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "binValues" : false,
          "showActionMenu" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : false,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "theme" : "wave",
          "step" : "lens_4",
          "dimensionAxis" : {
            "showTitle" : false,
            "customSize" : "auto",
            "showAxis" : true,
            "title" : "",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true
        },
        "type" : "chart"
      },
      "text_8" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "Products Sold",
          "textAlignment" : "left",
          "textColor" : "rgb(151, 147, 147)"
        },
        "type" : "text"
      },
      "dateselector_1" : {
        "parameters" : {
          "absoluteModeEnabled" : true,
          "calendarTypeSwitchingAllowed" : true,
          "defaultFiscalMode" : false,
          "displayMode" : "filter",
          "filterStyle" : {
            "titleColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "instant" : false,
          "presetsEnabled" : true,
          "relativeModeEnabled" : true,
          "showActionMenu" : true,
          "step" : "Planned_Start_Time_1",
          "title" : "Duration"
        },
        "type" : "dateselector"
      },
      "text_1" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "Revenue",
          "textAlignment" : "left",
          "textColor" : "rgb(151, 147, 147)"
        },
        "type" : "text"
      },
      "text_21" : {
        "parameters" : {
          "fontSize" : 16,
          "showActionMenu" : true,
          "text" : "",
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "text_20" : {
        "parameters" : {
          "fontSize" : 12,
          "showActionMenu" : true,
          "text" : "{{row(picklist_1_1.selection, [0], [\"Custom_text\"]).asObject()}}",
          "textAlignment" : "left",
          "textColor" : "#FFFFFF"
        },
        "type" : "text"
      },
      "table_1" : {
        "parameters" : {
          "borderColor" : "#e0e5ee",
          "borderWidth" : 1,
          "cell" : {
            "backgroundColor" : "#ffffff",
            "fontColor" : "#16325c",
            "fontSize" : 12
          },
          "columnProperties" : {
            "NPS" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            },
            "days_since_last_visit" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            },
            "Sales" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            },
            "Promotions" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            },
            "Total Cases" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            },
            "Compliance_Percentage_1" : {
              "parameters" : { },
              "type" : "bar"
            },
            "Facings" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            },
            "Share_of_Shelf" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            },
            "Out_of_Stock" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            },
            "Quantity" : {
              "parameters" : {
                "alignment" : "left"
              },
              "type" : "text"
            }
          },
          "columns" : [ ],
          "customBulkActions" : [ ],
          "exploreLink" : true,
          "header" : {
            "backgroundColor" : "#f4f6f9",
            "fontColor" : "#16325c",
            "fontSize" : 12
          },
          "innerMajorBorderColor" : "#a8b7c7",
          "innerMinorBorderColor" : "#e0e5ee",
          "mode" : "fittocontainer",
          "numberOfLines" : 1,
          "pivoted" : false,
          "showActionMenu" : true,
          "showRowIndexColumn" : false,
          "step" : "Master_Table_1",
          "totals" : true,
          "verticalPadding" : 8
        },
        "type" : "table"
      },
      "number_4" : {
        "parameters" : {
          "compact" : true,
          "exploreLink" : true,
          "measureField" : "Quantity",
          "numberColor" : "#091A3E",
          "numberSize" : 20,
          "showActionMenu" : true,
          "step" : "lens_6",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "number_3" : {
        "parameters" : {
          "compact" : false,
          "exploreLink" : true,
          "measureField" : "unique_Product2Id",
          "numberColor" : "#091A3E",
          "numberSize" : 20,
          "showActionMenu" : true,
          "step" : "product_sold_1",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "number_2" : {
        "parameters" : {
          "compact" : false,
          "exploreLink" : true,
          "measureField" : "unique_RetailStore_AccountId",
          "numberColor" : "#091A3E",
          "numberSize" : 20,
          "showActionMenu" : true,
          "step" : "total_stores_1",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "pillbox_2" : {
        "parameters" : {
          "compact" : false,
          "exploreLink" : false,
          "fontSize" : 14,
          "selectedTab" : {
            "backgroundColor" : "#FFFFFF",
            "borderColor" : "#C6D3E1",
            "borderEdges" : [ ],
            "borderWidth" : 1,
            "textColor" : "#335779"
          },
          "showActionMenu" : false,
          "step" : "product_toggle_1",
          "textColor" : "#7D98B3"
        },
        "type" : "pillbox"
      },
      "number_1" : {
        "parameters" : {
          "compact" : false,
          "exploreLink" : true,
          "measureField" : "unique_RetailStore_Id",
          "numberColor" : "#091A3E",
          "numberSize" : 20,
          "showActionMenu" : true,
          "step" : "total_stores_1",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "container_11" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "listselector_1" : {
        "parameters" : {
          "compact" : false,
          "displayMode" : "filter",
          "exploreLink" : false,
          "filterStyle" : {
            "titleColor" : "#FFFFFF",
            "valueColor" : "#FFFFFF"
          },
          "instant" : true,
          "showActionMenu" : false,
          "step" : "picklist_1_1",
          "title" : ""
        },
        "type" : "listselector"
      },
      "image_3" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "fitheight",
          "image" : {
            "name" : "${App.Images['Screen_Shot_20200203_at_103827_AMpn'].Name}",
            "namespace" : "${Org.Namespace}"
          }
        },
        "type" : "image"
      },
      "chart_10" : {
        "parameters" : {
          "showPoints" : false,
          "legend" : {
            "descOrder" : false,
            "showHeader" : true,
            "show" : true,
            "customSize" : "auto",
            "position" : "right-top",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "time",
          "missingValue" : "connect",
          "dashLine" : {
            "measures" : "",
            "showDashLine" : false
          },
          "exploreLink" : true,
          "timeAxis" : {
            "showTitle" : false,
            "showAxis" : true,
            "title" : ""
          },
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "fillArea" : true,
          "showActionMenu" : true,
          "showZero" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : false,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "valueType" : "none",
          "theme" : "dark",
          "step" : "trend_multidatasetqu_1",
          "applyConditionalFormatting" : true,
          "drawArea" : {
            "measure" : "",
            "showDrawArea" : false,
            "bounding1" : "",
            "bounding2" : ""
          }
        },
        "type" : "chart"
      }
    }
  }
}