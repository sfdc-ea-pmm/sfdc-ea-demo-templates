{
  "name" : "Work_Type_Duration_Analysis1_tp",
  "label" : "Work Type Duration Analysis",
  "folder" : {
    "id" : "${App.Folder.Id}"
  },
  "dateVersion" : 1,
  "mobileDisabled" : false,
  "xmd" : {
    "measures" : [ ],
    "derivedDimensions" : [ ],
    "organizations" : [ ],
    "showDetailsDefaultFields" : [ ],
    "dates" : [ ],
    "derivedMeasures" : [ ],
    "dimensions" : [ ]
  },
  "state" : {
    "dataSourceLinks" : [ ],
    "filters" : [
      {
        "dataset" : {
          "name" : "${App.Datasets.ServiceAppointmentDemo.Name}"
        },
        "dependent" : false,
        "fields" : [
          "ServiceTerritoryId_Name"
        ],
        "label" : "Territory",
        "locked" : false,
        "operator" : "in",
        "value" : "[]"
      }
    ],
    "gridLayouts" : [
      {
        "name" : "Default",
        "numColumns" : 7,
        "pages" : [
          {
            "label" : "Untitled",
            "name" : "91fe37be-1b14-41a3-9142-058986e202bd",
            "navigationHidden" : false,
            "widgets" : [
              {
                "colspan" : 7,
                "column" : 0,
                "name" : "filterpanel_1",
                "row" : 0,
                "rowspan" : 2,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 7,
                "column" : 0,
                "name" : "text_1",
                "row" : 2,
                "rowspan" : 1,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 2,
                "column" : 0,
                "name" : "number_2",
                "row" : 3,
                "rowspan" : 1,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 2,
                "column" : 2,
                "name" : "number_1",
                "row" : 3,
                "rowspan" : 1,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 3,
                "column" : 4,
                "name" : "number_3",
                "row" : 3,
                "rowspan" : 1,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 7,
                "column" : 0,
                "name" : "chart_3",
                "row" : 4,
                "rowspan" : 5,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              }
            ]
          }
        ],
        "rowHeight" : "normal",
        "selectors" : [ ],
        "style" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "backgroundColor" : "#F2F6FA",
          "cellSpacingX" : 8,
          "cellSpacingY" : 8,
          "fit" : "original",
          "gutterColor" : "#C5D3E0"
        },
        "version" : 1.0
      }
    ],
    "layouts" : [ ],
    "steps" : {
      "Totals_1" : {
        "broadcastFacet" : true,
        "datasets" : [
          {
            "name" : "${App.Datasets.ServiceAppointmentDemo.Name}"
          }
        ],
        "isGlobal" : false,
        "label" : "Totals",
        "query" : {
          "query" : {
            "measures" : [
              [
                "avg",
                "ActualDuration",
                "A"
              ],
              [
                "avg",
                "DurationInMinutes",
                "B"
              ],
              [
                "avg",
                "DurationInMinutes",
                "C"
              ]
            ],
            "columns" : [
              {
                "query" : {
                  "measures" : [
                    [
                      "avg",
                      "ActualDuration"
                    ]
                  ],
                  "aggregateFilters" : [
                    [
                      [
                        "avg",
                        "ActualDuration"
                      ],
                      [
                        [
                          0
                        ]
                      ],
                      "!="
                    ]
                  ]
                }
              },
              {
                "query" : {
                  "measures" : [
                    [
                      "avg",
                      "DurationInMinutes"
                    ]
                  ],
                  "aggregateFilters" : [
                    [
                      [
                        "avg",
                        "DurationInMinutes"
                      ],
                      [
                        [
                          0
                        ]
                      ],
                      "!="
                    ]
                  ]
                }
              },
              {
                "query" : {
                  "measures" : [
                    [
                      "avg",
                      "DurationInMinutes"
                    ]
                  ],
                  "formula" : "A - B",
                  "order" : [
                    [
                      -1,
                      {
                        "ascending" : true,
                        "inner" : false
                      }
                    ]
                  ]
                },
                "header" : "Delta"
              }
            ],
            "filters" : [
              [
                "Status",
                [
                  "Completed"
                ],
                "in"
              ]
            ]
          },
          "version" : -1.0
        },
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "type" : "aggregateflex",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [ ],
              "plots" : [
                "C",
                "A",
                "B"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "Total_Counts_1" : {
        "broadcastFacet" : true,
        "datasets" : [
          {
            "name" : "${App.Datasets.ServiceAppointmentDemo.Name}"
          }
        ],
        "isGlobal" : false,
        "label" : "Total Counts",
        "query" : {
          "query" : {
            "measures" : [
              [
                "max",
                "ActualDuration",
                "A"
              ],
              [
                "max",
                "DurationInMinutes",
                "B"
              ],
              [
                "count",
                "*",
                "C"
              ]
            ],
            "columns" : [
              {
                "query" : {
                  "measures" : [
                    [
                      "max",
                      "ActualDuration"
                    ]
                  ],
                  "aggregateFilters" : [ ]
                }
              },
              {
                "query" : {
                  "measures" : [
                    [
                      "max",
                      "DurationInMinutes"
                    ]
                  ],
                  "aggregateFilters" : [ ]
                }
              },
              {
                "query" : {
                  "measures" : [
                    [
                      "count",
                      "*"
                    ]
                  ]
                }
              }
            ],
            "filters" : [
              [
                "Status",
                [
                  "Completed"
                ],
                "in"
              ]
            ]
          },
          "version" : -1.0
        },
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "type" : "aggregateflex",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [ ],
              "plots" : [
                "A",
                "B",
                "C"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "Work_Types_and_Delta_1" : {
        "broadcastFacet" : true,
        "datasets" : [
          {
            "name" : "${App.Datasets.ServiceAppointmentDemo.Name}"
          }
        ],
        "isGlobal" : false,
        "label" : "Work Types and Deltas",
        "query" : {
          "query" : {
            "measures" : [
              [
                "avg",
                "ActualDuration",
                "A"
              ],
              [
                "avg",
                "DurationInMinutes",
                "B"
              ],
              [
                "avg",
                "ActualDuration",
                "Delta"
              ]
            ],
            "columns" : [
              {
                "query" : {
                  "measures" : [
                    [
                      "avg",
                      "ActualDuration"
                    ]
                  ],
                  "groups" : [
                    "ParentRecordId_WorkTypeId_Name"
                  ],
                  "aggregateFilters" : [
                    [
                      [
                        "avg",
                        "ActualDuration"
                      ],
                      [
                        [
                          0
                        ]
                      ],
                      "!="
                    ]
                  ]
                }
              },
              {
                "query" : {
                  "measures" : [
                    [
                      "avg",
                      "DurationInMinutes"
                    ]
                  ],
                  "groups" : [
                    "ParentRecordId_WorkTypeId_Name"
                  ],
                  "aggregateFilters" : [
                    [
                      [
                        "avg",
                        "DurationInMinutes"
                      ],
                      [
                        [
                          200
                        ]
                      ],
                      "<="
                    ]
                  ]
                }
              },
              {
                "query" : {
                  "measures" : [
                    [
                      "avg",
                      "ActualDuration"
                    ]
                  ],
                  "groups" : [
                    "ParentRecordId_WorkTypeId_Name"
                  ],
                  "formula" : "A - B",
                  "order" : [
                    [
                      -1,
                      {
                        "ascending" : true,
                        "inner" : false
                      }
                    ]
                  ]
                },
                "name" : "Delta",
                "header" : "Delta"
              }
            ],
            "groups" : [
              "ParentRecordId_WorkTypeId_Name"
            ],
            "filters" : [
              [
                "Status",
                [
                  "Completed"
                ],
                "in"
              ]
            ]
          },
          "version" : -1.0
        },
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "type" : "aggregateflex",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : false,
              "show" : true,
              "customSize" : "auto",
              "position" : "bottom-center",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "Actual vs Estimated",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [
                "ParentRecordId_WorkTypeId_Name"
              ],
              "plots" : [
                "A",
                "B",
                "Delta"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : false,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      }
    },
    "widgetStyle" : {
      "backgroundColor" : "#FFFFFF",
      "borderColor" : "#E6ECF2",
      "borderEdges" : [ ],
      "borderRadius" : 0,
      "borderWidth" : 1
    },
    "widgets" : {
      "number_3" : {
        "parameters" : {
          "compact" : true,
          "exploreLink" : true,
          "measureField" : "A",
          "numberColor" : "#335779",
          "numberSize" : 32,
          "showActionMenu" : true,
          "step" : "Total_Counts_1",
          "textAlignment" : "right",
          "title" : "Max Duration",
          "titleColor" : "#335779",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "number_2" : {
        "parameters" : {
          "compact" : true,
          "exploreLink" : true,
          "measureField" : "C",
          "numberColor" : "#335779",
          "numberSize" : 32,
          "showActionMenu" : true,
          "step" : "Total_Counts_1",
          "textAlignment" : "right",
          "title" : "# WOs",
          "titleColor" : "#335779",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "number_1" : {
        "parameters" : {
          "compact" : true,
          "exploreLink" : true,
          "measureField" : "C",
          "numberColor" : "#335779",
          "numberSize" : 32,
          "showActionMenu" : true,
          "step" : "Totals_1",
          "textAlignment" : "right",
          "title" : "Avg Delta",
          "titleColor" : "#335779",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "text_1" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : "Average actual and estimated durations by work type (minutes). A negative number in delta means work is being completed faster than planned."
          },
          "fontSize" : 14,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "filterpanel_1" : {
        "parameters" : {
          "filterItemOptions" : {
            "backgroundColor" : "#FFFFFF",
            "borderColor" : "#E6ECF2",
            "borderRadius" : 4,
            "borderWidth" : 1,
            "propertyColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "filters" : [ ],
          "itemsPerRow" : 1,
          "showAllFilters" : true,
          "title" : {
            "separatorColor" : "#E6ECF2",
            "text" : {
              "align" : "left",
              "color" : "#091A3E",
              "fontSize" : 16,
              "label" : "Use filter to include other territories"
            },
            "visible" : true
          }
        },
        "type" : "filterpanel"
      },
      "chart_3" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showValues" : true,
          "bins" : {
            "breakpoints" : {
              "high" : 100,
              "low" : 0
            },
            "bands" : {
              "high" : {
                "color" : "#008000",
                "label" : ""
              },
              "low" : {
                "color" : "#B22222",
                "label" : ""
              },
              "medium" : {
                "color" : "#ffa500",
                "label" : ""
              }
            }
          },
          "legend" : {
            "descOrder" : false,
            "showHeader" : false,
            "show" : true,
            "customSize" : "auto",
            "position" : "bottom-center",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "hbar",
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "Actual vs Estimated",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "binValues" : false,
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "columnMap" : {
            "trellis" : [ ],
            "dimensionAxis" : [
              "ParentRecordId_WorkTypeId_Name"
            ],
            "plots" : [
              "A",
              "B",
              "Delta"
            ]
          },
          "showActionMenu" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : false,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "theme" : "wave",
          "step" : "Work_Types_and_Delta_1",
          "dimensionAxis" : {
            "showTitle" : true,
            "customSize" : "auto",
            "showAxis" : true,
            "title" : "",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true
        },
        "type" : "chart"
      }
    }
  }
}