{
  "name": "Single_Customer_NPS_Journey_Embedded28_tp",
  "label": "Single Customer's NPS Lifecycle (Embedded)",
  "folder": {
    "id": "${App.Folder.Id}"
  },
  "dateVersion": 1,
  "mobileDisabled": false,
  "xmd": {
    "measures": [
      {
        "conditionalFormatting": {
          "color": {
            "referenceField": "Rating",
            "type": "multiple",
            "parameters": {
              "bins": [
                {
                  "formatValue": "#B50E03",
                  "bin": "*"
                },
                {
                  "formatValue": "#E8963B",
                  "bin": "7"
                },
                {
                  "formatValue": "#006714",
                  "bin": "9"
                }
              ]
            }
          }
        },
        "field": "NPS___Single_Custome_1.Rating",
        "format": {
          "delimiters": {}
        }
      },
      {
        "conditionalFormatting": {
          "color": {
            "referenceField": "NPS",
            "type": "multiple",
            "parameters": {
              "bins": [
                {
                  "formatValue": "#B50E03",
                  "bin": "*"
                },
                {
                  "formatValue": "#E8963B",
                  "bin": "7"
                },
                {
                  "formatValue": "#006714",
                  "bin": "9"
                }
              ]
            }
          }
        },
        "field": "NPS___Customer_Jour_2.NPS",
        "format": {
          "delimiters": {}
        }
      }
    ],
    "derivedDimensions": [],
    "organizations": [],
    "showDetailsDefaultFields": [],
    "dates": [],
    "derivedMeasures": [],
    "dimensions": []
  },
  "state": {
    "dataSourceLinks": [
      {
        "fields": [
          {
            "dataSourceName": "${App.Datasets.Journey_Survey_Question_Config_Metadata_tp.Name}",
            "dataSourceNamespace": "${Org.Namespace}",
            "dataSourceType": "saql",
            "fieldName": "Journey"
          },
          {
            "dataSourceName": "${App.Datasets.SurveyQuestionResponsewithDetails_tp.Name}",
            "dataSourceNamespace": "${Org.Namespace}",
            "dataSourceType": "saql",
            "fieldName": "JourneyConfig_Journey"
          }
        ],
        "label": "Journey Connection",
        "name": "Link_1427"
      },
      {
        "fields": [
          {
            "dataSourceName": "${App.Datasets.Contacts_tp.Name}",
            "dataSourceNamespace": "${Org.Namespace}",
            "dataSourceType": "saql",
            "fieldName": "Id"
          },
          {
            "dataSourceName": "${App.Datasets.SurveyQuestionResponsewithDetails_tp.Name}",
            "dataSourceNamespace": "${Org.Namespace}",
            "dataSourceType": "saql",
            "fieldName": "Invitation_ParticipantId"
          }
        ],
        "label": "Participant connection",
        "name": "Link_5265"
      }
    ],
    "filters": [],
    "gridLayouts": [
      {
        "maxWidth": 1150,
        "name": "Default",
        "numColumns": 50,
        "pages": [
          {
            "label": "NPS - Single Customer's Journey",
            "name": "6d7f96c8-32fc-408b-bf90-676a3c7da13a",
            "navigationHidden": false,
            "widgets": [
              {
                "colspan": 32,
                "column": 1,
                "name": "text_2",
                "row": 1,
                "rowspan": 4,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 9,
                "column": 2,
                "name": "text_3",
                "row": 7,
                "rowspan": 3,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 9,
                "column": 25,
                "name": "text_4",
                "row": 7,
                "rowspan": 3,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 13,
                "column": 34,
                "name": "dateselector_1",
                "row": 7,
                "rowspan": 3,
                "widgetStyle": {
                  "backgroundColor": "#FFFFFF",
                  "borderColor": "#E6ECF2",
                  "borderEdges": ["all"],
                  "borderRadius": 4,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 9,
                "column": 2,
                "name": "text_5",
                "row": 13,
                "rowspan": 2,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 9,
                "column": 2,
                "name": "text_6",
                "row": 25,
                "rowspan": 2,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 50,
                "column": 0,
                "name": "container_1",
                "row": 6,
                "rowspan": 5,
                "widgetStyle": {
                  "backgroundColor": "#E6ECF2",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 37,
                "column": 11,
                "name": "chart_1",
                "row": 12,
                "rowspan": 29,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": ["left"],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 4,
                "column": 2,
                "name": "number_2",
                "row": 21,
                "rowspan": 3,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 8,
                "column": 2,
                "name": "number_3",
                "row": 27,
                "rowspan": 3,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 9,
                "column": 2,
                "name": "text_7",
                "row": 19,
                "rowspan": 2,
                "widgetStyle": {
                  "backgroundColor": "rgba(255, 255, 255, 0)",
                  "borderColor": "#E6ECF2",
                  "borderEdges": [],
                  "borderRadius": 0,
                  "borderWidth": 1
                }
              },
              {
                "colspan": 3,
                "column": 2,
                "name": "number_1",
                "row": 15,
                "rowspan": 3,
                "widgetStyle": {
                  "borderEdges": []
                }
              },
              {
                "colspan": 14,
                "column": 11,
                "name": "listselector_2",
                "row": 7,
                "rowspan": 3,
                "widgetStyle": {
                  "backgroundColor": "#FFFFFF",
                  "borderColor": "#E6ECF2",
                  "borderEdges": ["all"],
                  "borderRadius": 4,
                  "borderWidth": 1
                }
              }
            ]
          }
        ],
        "rowHeight": "fine",
        "selectors": [],
        "style": {
          "alignmentX": "left",
          "alignmentY": "top",
          "backgroundColor": "#FFFFFF",
          "cellSpacingX": 0,
          "cellSpacingY": 0,
          "fit": "original",
          "gutterColor": "#C5D3E0"
        },
        "version": 1.0
      }
    ],
    "layouts": [],
    "steps": {
      "NPS_Journeys_1": {
        "broadcastFacet": true,
        "datasets": [
          {
            "name": "${App.Datasets.Journey_Survey_Question_Config_Metadata_tp.Name}"
          }
        ],
        "isGlobal": false,
        "label": "NPS Journeys",
        "query": {
          "query": {
            "measures": [["count", "*"]],
            "groups": ["Journey"],
            "filters": [
              ["Context", ["Customer NPS"], "in"],
              ["QuestionType", ["NPS"], "in"]
            ]
          },
          "version": -1.0
        },
        "receiveFacetSource": {
          "mode": "all",
          "steps": []
        },
        "selectMode": "singlerequired",
        "type": "aggregateflex",
        "useGlobal": true,
        "visualizationParameters": {
          "parameters": {
            "autoFitMode": "keepLabels",
            "showValues": true,
            "bins": {
              "breakpoints": {
                "high": 100,
                "low": 0
              },
              "bands": {
                "high": {
                  "color": "#008000",
                  "label": ""
                },
                "low": {
                  "color": "#B22222",
                  "label": ""
                },
                "medium": {
                  "color": "#ffa500",
                  "label": ""
                }
              }
            },
            "legend": {
              "descOrder": false,
              "showHeader": true,
              "show": true,
              "customSize": "auto",
              "position": "right-top",
              "inside": false
            },
            "axisMode": "multi",
            "tooltip": {
              "showBinLabel": true,
              "measures": "",
              "showNullValues": true,
              "showPercentage": true,
              "showDimensions": true,
              "showMeasures": true,
              "customizeTooltip": false,
              "dimensions": ""
            },
            "visualizationType": "hbar",
            "title": {
              "fontSize": 14,
              "subtitleFontSize": 11,
              "label": "",
              "align": "center",
              "subtitleLabel": ""
            },
            "binValues": false,
            "trellis": {
              "flipLabels": false,
              "showGridLines": true,
              "size": [100, 100],
              "enable": false,
              "type": "x",
              "chartsPerLine": 4
            },
            "columnMap": {
              "trellis": [],
              "dimensionAxis": ["Journey"],
              "plots": ["count"]
            },
            "showActionMenu": true,
            "measureAxis2": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "measureAxis1": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "theme": "wave",
            "dimensionAxis": {
              "showTitle": true,
              "customSize": "auto",
              "showAxis": true,
              "title": "",
              "icons": {
                "useIcons": false,
                "iconProps": {
                  "fit": "cover",
                  "column": "",
                  "type": "round"
                }
              }
            },
            "applyConditionalFormatting": true
          },
          "type": "chart"
        }
      },
      "Selected_Contact_1": {
        "broadcastFacet": true,
        "datasets": [
          {
            "name": "${App.Datasets.Contacts_tp.Name}"
          }
        ],
        "isGlobal": false,
        "label": "Selected Contact",
        "query": {
          "query": {
            "measures": [["count", "*"]],
            "groups": ["Id"]
          },
          "version": -1.0
        },
        "receiveFacetSource": {
          "mode": "all",
          "steps": []
        },
        "selectMode": "singlerequired",
        "type": "aggregateflex",
        "useGlobal": true,
        "visualizationParameters": {
          "parameters": {
            "autoFitMode": "keepLabels",
            "showValues": true,
            "bins": {
              "breakpoints": {
                "high": 100,
                "low": 0
              },
              "bands": {
                "high": {
                  "color": "#008000",
                  "label": ""
                },
                "low": {
                  "color": "#B22222",
                  "label": ""
                },
                "medium": {
                  "color": "#ffa500",
                  "label": ""
                }
              }
            },
            "legend": {
              "descOrder": false,
              "showHeader": true,
              "show": true,
              "customSize": "auto",
              "position": "right-top",
              "inside": false
            },
            "axisMode": "multi",
            "tooltip": {
              "showBinLabel": true,
              "measures": "",
              "showNullValues": true,
              "showPercentage": true,
              "showDimensions": true,
              "showMeasures": true,
              "customizeTooltip": false,
              "dimensions": ""
            },
            "visualizationType": "hbar",
            "title": {
              "fontSize": 14,
              "subtitleFontSize": 11,
              "label": "",
              "align": "center",
              "subtitleLabel": ""
            },
            "binValues": false,
            "trellis": {
              "flipLabels": false,
              "showGridLines": true,
              "size": [100, 100],
              "enable": false,
              "type": "x",
              "chartsPerLine": 4
            },
            "columnMap": {
              "trellis": [],
              "dimensionAxis": ["Id"],
              "plots": ["count"]
            },
            "showActionMenu": true,
            "measureAxis2": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "measureAxis1": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "theme": "wave",
            "dimensionAxis": {
              "showTitle": true,
              "customSize": "auto",
              "showAxis": true,
              "title": "",
              "icons": {
                "useIcons": false,
                "iconProps": {
                  "fit": "cover",
                  "column": "",
                  "type": "round"
                }
              }
            },
            "applyConditionalFormatting": true
          },
          "type": "chart"
        }
      },
      "NPS___Customer_Jour_2": {
        "broadcastFacet": true,
        "groups": [],
        "label": "NPS - Customer Journey KPI",
        "numbers": [],
        "query": "\nconfig = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\"; \nconfig = filter config by 'QuestionType' == \"NPS\";\n\nq = load \"${App.Datasets.SurveyQuestionResponsewithDetails_tp.FullyQualifiedName}\"; \nq = filter q by 'Question_QuestionType' == \"NPS\";\nq = group q by ('Id', 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage'); \nq = foreach q generate 'Id' , 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage', first('CreatedDate_sec_epoch') as 'CreatedDate_sec_epoch',  first('NumberValue') as 'NumberValue'; \nq = order q by ('SurveyVersion_Survey_Id' asc, 'SurveyVersionId' asc, 'QuestionId' asc); \nq = group q by ('Id', 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage'); \nq = foreach q generate 'Id' , 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage', first('NumberValue') as 'Rating'; \njourney = group config by ('Stage') left, q by ('JourneyConfig_Stage'); journey = foreach journey generate sum(q.'Rating') as 'Rating', count(q) as 'Total Responses'; journey = group journey by all;\njourney = foreach journey generate round(sum('Rating')/sum('Total Responses'),2) as 'NPS', sum('Total Responses') as 'Total Responses';",
        "receiveFacetSource": {
          "mode": "all",
          "steps": []
        },
        "selectMode": "single",
        "strings": [],
        "type": "saql",
        "useGlobal": true,
        "visualizationParameters": {
          "parameters": {
            "autoFitMode": "keepLabels",
            "showValues": true,
            "bins": {
              "breakpoints": {
                "high": 100,
                "low": 0
              },
              "bands": {
                "high": {
                  "color": "#008000",
                  "label": ""
                },
                "low": {
                  "color": "#B22222",
                  "label": ""
                },
                "medium": {
                  "color": "#ffa500",
                  "label": ""
                }
              }
            },
            "legend": {
              "descOrder": false,
              "showHeader": true,
              "show": true,
              "customSize": "auto",
              "position": "right-top",
              "inside": false
            },
            "axisMode": "multi",
            "tooltip": {
              "showBinLabel": true,
              "measures": "",
              "showNullValues": true,
              "showPercentage": true,
              "showDimensions": true,
              "showMeasures": true,
              "customizeTooltip": false,
              "dimensions": ""
            },
            "visualizationType": "hbar",
            "title": {
              "fontSize": 14,
              "subtitleFontSize": 11,
              "label": "",
              "align": "center",
              "subtitleLabel": ""
            },
            "binValues": false,
            "trellis": {
              "flipLabels": false,
              "showGridLines": true,
              "size": [100, 100],
              "enable": false,
              "type": "x",
              "chartsPerLine": 4
            },
            "showActionMenu": true,
            "measureAxis2": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "measureAxis1": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "theme": "wave",
            "dimensionAxis": {
              "showTitle": true,
              "customSize": "auto",
              "showAxis": true,
              "title": "",
              "icons": {
                "useIcons": false,
                "iconProps": {
                  "fit": "cover",
                  "column": "",
                  "type": "round"
                }
              }
            },
            "applyConditionalFormatting": true
          },
          "type": "chart"
        }
      },
      "NPS___Single_Custome_1": {
        "broadcastFacet": true,
        "groups": [],
        "label": "NPS - Single Customer Journey Latest Rating",
        "numbers": [],
        "query": "config = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\"; \nconfig = filter config by 'QuestionType' == \"NPS\";\n\nq = load \"${App.Datasets.SurveyQuestionResponsewithDetails_tp.FullyQualifiedName}\"; q = filter q by {{cell(Selected_Contact_1.selection, 0, \"Id\").asEquality(\"Invitation_ParticipantId\")}};\nq = filter q by 'Question_QuestionType' == \"NPS\";q = filter q by {{cell(NPS___Customer_Jour_1.selection, 0, \"Stage\").asEquality(\"JourneyConfig_Stage\")}};\nq = group q by ('Id', 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage'); \nq = foreach q generate 'Id' , 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage', first('CreatedDate_sec_epoch') as 'CreatedDate_sec_epoch',  first('NumberValue') as 'NumberValue'; \nq = order q by ('CreatedDate_sec_epoch' desc);\njourney = group config by all left, q by all; \njourney = foreach journey generate  first(q.'NumberValue') as 'Rating', count(q) as 'Total Responses';",
        "receiveFacetSource": {
          "mode": "all",
          "steps": []
        },
        "selectMode": "single",
        "strings": [],
        "type": "saql",
        "useGlobal": true,
        "visualizationParameters": {
          "parameters": {
            "autoFitMode": "keepLabels",
            "showValues": true,
            "bins": {
              "breakpoints": {
                "high": 100,
                "low": 0
              },
              "bands": {
                "high": {
                  "color": "#008000",
                  "label": ""
                },
                "low": {
                  "color": "#B22222",
                  "label": ""
                },
                "medium": {
                  "color": "#ffa500",
                  "label": ""
                }
              }
            },
            "legend": {
              "descOrder": false,
              "showHeader": true,
              "show": true,
              "customSize": "auto",
              "position": "right-top",
              "inside": false
            },
            "axisMode": "multi",
            "tooltip": {
              "showBinLabel": true,
              "measures": "",
              "showNullValues": true,
              "showPercentage": true,
              "showDimensions": true,
              "showMeasures": true,
              "customizeTooltip": false,
              "dimensions": ""
            },
            "visualizationType": "hbar",
            "title": {
              "fontSize": 14,
              "subtitleFontSize": 11,
              "label": "",
              "align": "center",
              "subtitleLabel": ""
            },
            "binValues": false,
            "trellis": {
              "flipLabels": false,
              "showGridLines": true,
              "size": [100, 100],
              "enable": false,
              "type": "x",
              "chartsPerLine": 4
            },
            "showActionMenu": true,
            "measureAxis2": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "measureAxis1": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "theme": "wave",
            "dimensionAxis": {
              "showTitle": true,
              "customSize": "auto",
              "showAxis": true,
              "title": "",
              "icons": {
                "useIcons": false,
                "iconProps": {
                  "fit": "cover",
                  "column": "",
                  "type": "round"
                }
              }
            },
            "applyConditionalFormatting": true
          },
          "type": "chart"
        }
      },
      "NPS___Customer_Jour_1": {
        "broadcastFacet": true,
        "groups": [],
        "label": "NPS - Customer Journey",
        "numbers": [],
        "query": "config = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\"; \nconfig = filter config by 'QuestionType' == \"NPS\";\n\nq = load \"${App.Datasets.SurveyQuestionResponsewithDetails_tp.FullyQualifiedName}\"; \nq = filter q by 'Question_QuestionType' == \"NPS\";\nq = group q by ('Id', 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage'); \nq = foreach q generate 'Id' , 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage', first('CreatedDate_sec_epoch') as 'CreatedDate_sec_epoch',  first('NumberValue') as 'NumberValue'; \nq = order q by ('SurveyVersion_Survey_Id' asc, 'SurveyVersionId' asc, 'QuestionId' asc); \nq = group q by ('Id', 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage'); \nq = foreach q generate 'Id' , 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId', 'JourneyConfig_Stage', first('NumberValue') as 'Rating'; journey = group config by ('Stage') left, q by ('JourneyConfig_Stage'); journey = foreach journey generate config.'Stage' as 'Stage', round(sum(q.'Rating')/count(q),2) as 'NPS', first(config.'StageOrder') as 'StageOrder'; journey = order journey by 'StageOrder' asc;",
        "receiveFacetSource": {
          "mode": "all",
          "steps": []
        },
        "selectMode": "single",
        "strings": [],
        "type": "saql",
        "useGlobal": true,
        "visualizationParameters": {
          "parameters": {
            "autoFitMode": "keepLabels",
            "showValues": true,
            "bins": {
              "breakpoints": {
                "high": 100,
                "low": 0
              },
              "bands": {
                "high": {
                  "color": "#008000",
                  "label": ""
                },
                "low": {
                  "color": "#B22222",
                  "label": ""
                },
                "medium": {
                  "color": "#ffa500",
                  "label": ""
                }
              }
            },
            "legend": {
              "descOrder": false,
              "showHeader": true,
              "show": true,
              "customSize": "auto",
              "position": "right-top",
              "inside": false
            },
            "axisMode": "multi",
            "tooltip": {
              "showBinLabel": true,
              "measures": "",
              "showNullValues": true,
              "showPercentage": true,
              "showDimensions": true,
              "showMeasures": true,
              "customizeTooltip": false,
              "dimensions": ""
            },
            "visualizationType": "vbar",
            "title": {
              "fontSize": 14,
              "subtitleFontSize": 11,
              "label": "",
              "align": "center",
              "subtitleLabel": ""
            },
            "binValues": false,
            "trellis": {
              "flipLabels": false,
              "showGridLines": true,
              "size": [100, 100],
              "enable": false,
              "type": "x",
              "chartsPerLine": 4
            },
            "columnMap": {
              "trellis": [],
              "dimensionAxis": ["Stage"],
              "plots": ["NPS"]
            },
            "showActionMenu": true,
            "measureAxis2": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "measureAxis1": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "theme": "wave",
            "dimensionAxis": {
              "showTitle": true,
              "customSize": "auto",
              "showAxis": true,
              "title": "",
              "icons": {
                "useIcons": false,
                "iconProps": {
                  "fit": "cover",
                  "column": "",
                  "type": "round"
                }
              }
            },
            "applyConditionalFormatting": true
          },
          "type": "chart"
        }
      },
      "Response_date_filter_1": {
        "broadcastFacet": true,
        "datasets": [
          {
            "name": "${App.Datasets.SurveyQuestionResponsewithDetails_tp.Name}"
          }
        ],
        "isGlobal": false,
        "label": "Response date filter",
        "query": {
          "query": {
            "measures": [["count", "*"]],
            "groups": [
              ["CreatedDate_Year", "CreatedDate_Month", "CreatedDate_Day"]
            ]
          },
          "version": -1.0
        },
        "receiveFacetSource": {
          "mode": "none",
          "steps": []
        },
        "selectMode": "single",
        "type": "aggregateflex",
        "useGlobal": true,
        "visualizationParameters": {
          "parameters": {
            "autoFitMode": "keepLabels",
            "showValues": true,
            "bins": {
              "breakpoints": {
                "high": 100,
                "low": 0
              },
              "bands": {
                "high": {
                  "color": "#008000",
                  "label": ""
                },
                "low": {
                  "color": "#B22222",
                  "label": ""
                },
                "medium": {
                  "color": "#ffa500",
                  "label": ""
                }
              }
            },
            "legend": {
              "descOrder": false,
              "showHeader": true,
              "show": true,
              "customSize": "auto",
              "position": "right-top",
              "inside": false
            },
            "axisMode": "multi",
            "tooltip": {
              "showBinLabel": true,
              "measures": "",
              "showNullValues": true,
              "showPercentage": true,
              "showDimensions": true,
              "showMeasures": true,
              "customizeTooltip": false,
              "dimensions": ""
            },
            "visualizationType": "hbar",
            "title": {
              "fontSize": 14,
              "subtitleFontSize": 11,
              "label": "",
              "align": "center",
              "subtitleLabel": ""
            },
            "binValues": false,
            "trellis": {
              "flipLabels": false,
              "showGridLines": true,
              "size": [100, 100],
              "enable": false,
              "type": "x",
              "chartsPerLine": 4
            },
            "columnMap": {
              "trellis": [],
              "dimensionAxis": [
                "CreatedDate_Year~~~CreatedDate_Month~~~CreatedDate_Day"
              ],
              "plots": ["count"]
            },
            "showActionMenu": true,
            "measureAxis2": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "measureAxis1": {
              "sqrtScale": false,
              "showTitle": true,
              "showAxis": true,
              "title": "",
              "customDomain": {
                "showDomain": false
              }
            },
            "theme": "wave",
            "dimensionAxis": {
              "showTitle": true,
              "customSize": "auto",
              "showAxis": true,
              "title": "",
              "icons": {
                "useIcons": false,
                "iconProps": {
                  "fit": "cover",
                  "column": "",
                  "type": "round"
                }
              }
            },
            "applyConditionalFormatting": true
          },
          "type": "chart"
        }
      }
    },
    "widgetStyle": {
      "backgroundColor": "#FFFFFF",
      "borderColor": "#E6ECF2",
      "borderEdges": [],
      "borderRadius": 0,
      "borderWidth": 1
    },
    "widgets": {
      "dateselector_1": {
        "parameters": {
          "absoluteModeEnabled": true,
          "calendarTypeSwitchingAllowed": true,
          "defaultFiscalMode": false,
          "displayMode": "filter",
          "filterStyle": {
            "titleColor": "#54698D",
            "valueColor": "#16325C"
          },
          "instant": false,
          "presetsEnabled": true,
          "relativeModeEnabled": true,
          "showActionMenu": false,
          "step": "Response_date_filter_1",
          "title": ""
        },
        "type": "dateselector"
      },
      "listselector_2": {
        "parameters": {
          "compact": false,
          "displayMode": "filter",
          "exploreLink": false,
          "filterStyle": {
            "titleColor": "#54698D",
            "valueColor": "#16325C"
          },
          "instant": true,
          "measureField": "count",
          "showActionMenu": true,
          "step": "NPS_Journeys_1",
          "title": ""
        },
        "type": "listselector"
      },
      "number_3": {
        "parameters": {
          "compact": true,
          "exploreLink": true,
          "measureField": "Total Responses",
          "noResultsLabel": "-",
          "numberColor": "#091A3E",
          "numberSize": 24,
          "showActionMenu": true,
          "step": "NPS___Customer_Jour_2",
          "textAlignment": "left",
          "title": "",
          "titleColor": "#091A3E",
          "titleSize": 16
        },
        "type": "number"
      },
      "container_1": {
        "parameters": {
          "alignmentX": "left",
          "alignmentY": "top",
          "fit": "original"
        },
        "type": "container"
      },
      "number_2": {
        "parameters": {
          "compact": false,
          "exploreLink": true,
          "measureField": "NPS",
          "noResultsLabel": "-",
          "numberColor": "#091A3E",
          "numberSize": 24,
          "showActionMenu": true,
          "step": "NPS___Customer_Jour_2",
          "textAlignment": "left",
          "title": "",
          "titleColor": "#091A3E",
          "titleSize": 16
        },
        "type": "number"
      },
      "number_1": {
        "parameters": {
          "compact": false,
          "exploreLink": true,
          "measureField": "Rating",
          "numberColor": "#091A3E",
          "numberSize": 24,
          "showActionMenu": true,
          "step": "NPS___Single_Custome_1",
          "textAlignment": "left",
          "title": "",
          "titleColor": "#091A3E",
          "titleSize": 16
        },
        "type": "number"
      },
      "text_3": {
        "parameters": {
          "content": {
            "displayTemplate": "Customer Lifecycle"
          },
          "fontSize": 14,
          "showActionMenu": true,
          "textAlignment": "right",
          "textColor": "#091A3E"
        },
        "type": "text"
      },
      "text_2": {
        "parameters": {
          "content": {
            "displayTemplate": "Which stage of the customer’s lifecycle needs attention?"
          },
          "fontSize": 20,
          "showActionMenu": true,
          "textAlignment": "left",
          "textColor": "#091A3E"
        },
        "type": "text"
      },
      "text_5": {
        "parameters": {
          "content": {
            "displayTemplate": "LATEST RATING"
          },
          "fontSize": 14,
          "showActionMenu": true,
          "textAlignment": "left",
          "textColor": "#091A3E"
        },
        "type": "text"
      },
      "text_4": {
        "parameters": {
          "content": {
            "displayTemplate": "Response Period"
          },
          "fontSize": 14,
          "showActionMenu": true,
          "textAlignment": "right",
          "textColor": "#091A3E"
        },
        "type": "text"
      },
      "text_7": {
        "parameters": {
          "content": {
            "displayTemplate": "AVERAGE RATING"
          },
          "fontSize": 14,
          "showActionMenu": true,
          "textAlignment": "left",
          "textColor": "#091A3E"
        },
        "type": "text"
      },
      "text_6": {
        "parameters": {
          "content": {
            "displayTemplate": "TOTAL RESPONSES"
          },
          "fontSize": 14,
          "showActionMenu": true,
          "textAlignment": "left",
          "textColor": "#091A3E"
        },
        "type": "text"
      },
      "chart_1": {
        "parameters": {
          "autoFitMode": "keepLabels",
          "showValues": true,
          "bins": {
            "breakpoints": {
              "high": 100,
              "low": 0
            },
            "bands": {
              "high": {
                "color": "#008000",
                "label": ""
              },
              "low": {
                "color": "#B22222",
                "label": ""
              },
              "medium": {
                "color": "#ffa500",
                "label": ""
              }
            }
          },
          "legend": {
            "descOrder": false,
            "showHeader": true,
            "show": false,
            "customSize": "auto",
            "position": "right-top",
            "inside": false
          },
          "axisMode": "multi",
          "tooltip": {
            "showBinLabel": true,
            "measures": "",
            "showNullValues": true,
            "showPercentage": true,
            "showDimensions": true,
            "showMeasures": true,
            "customizeTooltip": false,
            "dimensions": ""
          },
          "visualizationType": "vbar",
          "exploreLink": true,
          "title": {
            "fontSize": 14,
            "subtitleFontSize": 11,
            "label": "",
            "align": "center",
            "subtitleLabel": ""
          },
          "binValues": false,
          "trellis": {
            "flipLabels": false,
            "showGridLines": true,
            "size": [100, 100],
            "enable": false,
            "type": "x",
            "parameters": {},
            "chartsPerLine": 4
          },
          "columnMap": {
            "trellis": [],
            "dimensionAxis": ["Stage"],
            "plots": ["NPS"]
          },
          "showActionMenu": true,
          "measureAxis2": {
            "sqrtScale": false,
            "showTitle": true,
            "showAxis": true,
            "title": "",
            "customDomain": {
              "showDomain": false
            }
          },
          "measureAxis1": {
            "sqrtScale": false,
            "showTitle": true,
            "showAxis": true,
            "title": "Average Rating by Customer",
            "customDomain": {
              "high": 10,
              "low": 0,
              "showDomain": true
            }
          },
          "theme": "light",
          "step": "NPS___Customer_Jour_1",
          "dimensionAxis": {
            "showTitle": true,
            "customSize": "auto",
            "showAxis": true,
            "title": "",
            "icons": {
              "useIcons": false,
              "iconProps": {
                "fit": "cover",
                "column": "",
                "type": "round",
                "parameters": {}
              }
            }
          },
          "applyConditionalFormatting": true
        },
        "type": "chart"
      }
    }
  }
}
