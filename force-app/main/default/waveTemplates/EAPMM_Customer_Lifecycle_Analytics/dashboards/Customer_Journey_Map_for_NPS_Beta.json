{
  "name" : "Customer_Journey_Map_for_NPS_Beta_tp",
  "label" : "Customer Journey Map for NPS - Beta",
  "folder" : {
    "id" : "${App.Folder.Id}"
  },
  "dateVersion" : 1,
  "mobileDisabled" : false,
  "xmd" : {
    "measures" : [ ],
    "derivedDimensions" : [ ],
    "organizations" : [ ],
    "showDetailsDefaultFields" : [ ],
    "dates" : [ ],
    "derivedMeasures" : [ ],
    "dimensions" : [ ]
  },
  "state" : {
    "dataSourceLinks" : [
      {
        "fields" : [
          {
            "dataSourceName" : "${App.Datasets.Journey_Survey_Question_Config_Metadata18_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "Journey"
          },
          {
            "dataSourceName" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}",
            "dataSourceNamespace" : "${Org.Namespace}",
            "dataSourceType" : "saql",
            "fieldName" : "JourneyConfig_Journey"
          }
        ],
        "label" : "Journey Connection",
        "name" : "Link_164"
      }
    ],
    "filters" : [
      {
        "dataset" : {
          "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "Invitation_OptionsCollectAnonymousResponse"
        ],
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "Invitation_OptionsAllowGuestUserResponse"
        ],
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "Invitation_Participant_Name"
        ],
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "Invitation_Subject_SubjectEntityType"
        ],
        "locked" : false,
        "operator" : "in"
      },
      {
        "dataset" : {
          "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
        },
        "dependent" : true,
        "fields" : [
          "Invitation_MassInvite"
        ],
        "locked" : false,
        "operator" : "in"
      }
    ],
    "gridLayouts" : [
      {
        "maxWidth" : 1500,
        "name" : "Default",
        "numColumns" : 50,
        "pages" : [
          {
            "label" : "Customer Journey map Home",
            "name" : "37602e4e-d621-469e-8cc0-1aa336f89319",
            "navigationHidden" : false,
            "widgets" : [
              {
                "colspan" : 50,
                "column" : 0,
                "name" : "container_1",
                "row" : 0,
                "rowspan" : 8,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(255, 255, 255)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 50,
                "column" : 0,
                "name" : "container_2",
                "row" : 14,
                "rowspan" : 64,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(240, 245, 249)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "top"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 20,
                "column" : 4,
                "name" : "text_1",
                "row" : 3,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 3,
                "column" : 1,
                "name" : "image_1",
                "row" : 1,
                "rowspan" : 6,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderWidth" : 4
                }
              },
              {
                "colspan" : 9,
                "column" : 1,
                "name" : "text_2",
                "row" : 21,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 7,
                "column" : 1,
                "name" : "number_1",
                "row" : 24,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 38,
                "column" : 11,
                "name" : "chart_1",
                "row" : 19,
                "rowspan" : 17,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 9,
                "column" : 1,
                "name" : "text_3",
                "row" : 34,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 7,
                "column" : 8,
                "name" : "dateselector_1",
                "row" : 9,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 4,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 7,
                "column" : 1,
                "name" : "listselector_1",
                "row" : 9,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderRadius" : 4,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 2,
                "column" : 2,
                "name" : "number_2",
                "row" : 58,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "rgb(198, 211, 225)",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 6,
                "column" : 4,
                "name" : "text_6",
                "row" : 58,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 2,
                "column" : 2,
                "name" : "number_3",
                "row" : 55,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "rgb(232, 150, 59)",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 6,
                "column" : 4,
                "name" : "text_11",
                "row" : 55,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 9,
                "column" : 0,
                "name" : "chart_3",
                "row" : 37,
                "rowspan" : 18,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 38,
                "column" : 11,
                "name" : "chart_2",
                "row" : 39,
                "rowspan" : 14,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "#7D98B3",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 2
                }
              },
              {
                "colspan" : 38,
                "column" : 11,
                "name" : "text_7",
                "row" : 36,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 38,
                "column" : 11,
                "name" : "text_8",
                "row" : 53,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 38,
                "column" : 11,
                "name" : "chart_4",
                "row" : 56,
                "rowspan" : 21,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 50,
                "column" : 0,
                "name" : "container_3",
                "row" : 78,
                "rowspan" : 35,
                "widgetStyle" : {
                  "backgroundColor" : "rgb(241, 244, 248)",
                  "borderColor" : "#C6D3E1",
                  "borderEdges" : [
                    "top"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 16,
                "column" : 1,
                "name" : "text_9",
                "row" : 79,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 48,
                "column" : 1,
                "name" : "chart_5",
                "row" : 82,
                "rowspan" : 30,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderColor" : "#7D98B3",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 9,
                "column" : 31,
                "name" : "link_2",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "rgb(0, 112, 210)",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 2
                }
              },
              {
                "colspan" : 10,
                "column" : 40,
                "name" : "link_3",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 7,
                "column" : 8,
                "name" : "container_4",
                "row" : 9,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 7,
                "column" : 15,
                "name" : "filterpanel_1",
                "row" : 9,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderRadius" : 4,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 7,
                "column" : 22,
                "name" : "filterpanel_2",
                "row" : 9,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderRadius" : 4,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 6,
                "column" : 29,
                "name" : "filterpanel_3",
                "row" : 9,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderRadius" : 4,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 7,
                "column" : 35,
                "name" : "filterpanel_4",
                "row" : 9,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderRadius" : 4,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 7,
                "column" : 42,
                "name" : "filterpanel_5",
                "row" : 9,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [
                    "all"
                  ],
                  "borderRadius" : 4,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 1,
                "column" : 1,
                "name" : "text_4",
                "row" : 56,
                "rowspan" : 1,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(230, 236, 242, 0)",
                  "borderColor" : "rgb(232, 150, 59)",
                  "borderEdges" : [
                    "right"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 1,
                "column" : 1,
                "name" : "text_5",
                "row" : 59,
                "rowspan" : 1,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderColor" : "rgb(198, 211, 225)",
                  "borderEdges" : [
                    "right"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 8
                }
              },
              {
                "colspan" : 20,
                "column" : 11,
                "name" : "text_10",
                "row" : 14,
                "rowspan" : 4,
                "widgetStyle" : {
                  "backgroundColor" : "rgba(255, 255, 255, 0)",
                  "borderColor" : "#E6ECF2",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              }
            ]
          }
        ],
        "rowHeight" : "fine",
        "selectors" : [ ],
        "style" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "backgroundColor" : "rgb(228, 234, 240)",
          "cellSpacingX" : 0,
          "cellSpacingY" : 0,
          "fit" : "original",
          "gutterColor" : "#C5D3E0"
        },
        "version" : 1.0
      }
    ],
    "layouts" : [ ],
    "steps" : {
      "Responsive_customer__1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "Responsive customer Vs Customer Base",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.SurveyQuestionResponsewithDetails18_tp.FullyQualifiedName}\"; q = filter q by {{column(NPS___Customer_Journ_1.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}} && {{column(NPS___Customer_Journ_4.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}} && {{column(Responses_by_stage_1.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}};\nconfig = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata18_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\";\n\nresponsive = group config by all left, q by all;\nresponsive = foreach responsive generate \"Responsive\" as 'Customer Type', coalesce(unique(q.'Invitation_ParticipantId'),0) as 'Count';\ncontacts = load \"${App.Datasets.Contacts18_tp.FullyQualifiedName}\";\npassive = group config by all left, q by all left, contacts by all;\npassive = foreach passive generate \"Untapped\" as 'Customer Type', count(contacts) - coalesce(unique(q.'Invitation_ParticipantId'),0) as 'Count';\n\nresult = union responsive, passive;\nresult = group result by 'Customer Type';\nresult = foreach result generate 'Customer Type', sum('Count') as 'Count';",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "none",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "centerText" : "",
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "showMeasureTitle" : true,
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "pie",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "inner" : 60,
            "columnMap" : {
              "trellis" : [ ],
              "dimension" : [
                "Customer Type"
              ],
              "plots" : [
                "Count"
              ]
            },
            "showActionMenu" : true,
            "centerValueType" : "number",
            "valueType" : "compactNumber",
            "theme" : "wave",
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "Customer_Base_1" : {
        "broadcastFacet" : true,
        "datasets" : [
          {
            "name" : "${App.Datasets.Contacts18_tp.Name}"
          }
        ],
        "isGlobal" : false,
        "label" : "Customer Base",
        "query" : {
          "query" : {
            "measures" : [
              [
                "count",
                "*"
              ]
            ]
          },
          "version" : -1.0
        },
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "type" : "aggregateflex",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [ ],
              "plots" : [
                "count"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "NPS_Score___Trend_ov_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "NPS Score - Trend over time",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.SurveyQuestionResponsewithDetails18_tp.FullyQualifiedName}\"; q = filter q by {{column(NPS___Customer_Journ_1.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}} && {{column(NPS___Customer_Journ_4.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}} && {{column(Responses_by_stage_1.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}};\npromoters = filter q by 'NumberValue' > 8;\ndetractors = filter q by 'NumberValue' < 7;\n\njourney_by_stage = group q by ('CreatedDate_Year', 'CreatedDate_Month', 'CreatedDate_Day', 'JourneyConfig_Stage') left,  promoters by ('CreatedDate_Year', 'CreatedDate_Month', 'CreatedDate_Day', 'JourneyConfig_Stage') left, detractors by ('CreatedDate_Year', 'CreatedDate_Month', 'CreatedDate_Day', 'JourneyConfig_Stage');\n\njourney_by_stage = foreach journey_by_stage generate q.'CreatedDate_Year' as 'CreatedDate_Year', q.'CreatedDate_Month' as 'CreatedDate_Month', q.'CreatedDate_Day' as 'CreatedDate_Day', q.'JourneyConfig_Stage' as 'JourneyConfig_Stage', round(((count(promoters) - count(detractors))*100)/count(q),2) as 'NPS';\n\njourney_cummulative = group q by ('CreatedDate_Year', 'CreatedDate_Month', 'CreatedDate_Day') left,  promoters by ('CreatedDate_Year', 'CreatedDate_Month', 'CreatedDate_Day') left, detractors by ('CreatedDate_Year', 'CreatedDate_Month', 'CreatedDate_Day');\njourney_cummulative = foreach journey_cummulative generate q.'CreatedDate_Year' as 'CreatedDate_Year', q.'CreatedDate_Month' as 'CreatedDate_Month', q.'CreatedDate_Day' as 'CreatedDate_Day', \"Cummulative\" as 'JourneyConfig_Stage', round(((count(promoters) - count(detractors))*100)/count(q),2) as 'NPS';\n\njourney = union journey_by_stage, journey_cummulative;\njourney = group journey by ('CreatedDate_Year', 'CreatedDate_Month', 'CreatedDate_Day', 'JourneyConfig_Stage');\njourney = foreach journey generate 'CreatedDate_Year' + \"~~~\" + 'CreatedDate_Month' + \"~~~\" + 'CreatedDate_Day' as 'CreatedDate_Year~~~CreatedDate_Month~~~CreatedDate_Day', \n'JourneyConfig_Stage' as 'JourneyConfig_Stage', sum('NPS') as 'NPS';\njourney = order journey by ('CreatedDate_Year~~~CreatedDate_Month~~~CreatedDate_Day' asc, 'JourneyConfig_Stage' asc);\njourney = limit journey 2000;",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "multi",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showPoints" : false,
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "line",
            "dashLine" : {
              "measures" : "",
              "showDashLine" : false
            },
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "fillArea" : true,
            "columnMap" : {
              "split" : [
                "JourneyConfig_Stage"
              ],
              "trellis" : [ ],
              "dimensionAxis" : [
                "CreatedDate_Year~~~CreatedDate_Month~~~CreatedDate_Day"
              ],
              "plots" : [
                "NPS"
              ]
            },
            "showActionMenu" : true,
            "showZero" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "valueType" : "none",
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true,
            "drawArea" : {
              "measure" : "",
              "showDrawArea" : false,
              "bounding1" : "",
              "bounding2" : ""
            }
          },
          "type" : "chart"
        }
      },
      "Date_Parser_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "Date Parser",
        "numbers" : [
          "Min",
          "Max",
          "Compare Min",
          "Compare Max"
        ],
        "query" : "q = load \"${App.Datasets.SurveyQuestionResponsewithDetails18_tp.FullyQualifiedName}\";\nq = group q by all;\nq = foreach q generate toDate(date_to_epoch(now()) - (date_to_epoch(now())- (86400 * floor(date_to_epoch(now())/86400)))) as 'First Second', case when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"year\" then toDate( ( number_to_string(string_to_number(toString (now(), \"yyyy\")) + string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", \"year\")+5 )),\"#\")+\"-01-01\"), \"yyyy-MM-dd\") when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"quarter\" then toDate(date_to_epoch(quarter_last_day(toDate(date_to_epoch(quarter_last_day(now())) - 1036800 + ((string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", \"quarter\")+8 ))-1) * 7948800)))) + 86400) when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"month\" then toDate(date_to_epoch(month_last_day(toDate(date_to_epoch(month_last_day(now())) - 1036800 + ((string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", \"month\")+6 ))-1) * 2678400)))) + 86400) when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"week\" then toDate(date_to_epoch(week_last_day(toDate(date_to_epoch(week_last_day(now())) + ((string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", \"week\")+5 ))-1) * 604800)))) + 86400) when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"day\" then toDate((date_to_epoch(now()) - (date_to_epoch(now())- (86400 * floor(date_to_epoch(now())/86400)))) + (string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\", \"day\")+4 )) * 86400)) when !(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\" matches \"All\") then toDate(string_to_number(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"min\"),\"All\").asObject()}}\")/1000) else toDate(1) end as 'Min', case when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"year\" then  year_last_day(toDate( ( number_to_string(string_to_number(toString (now(), \"yyyy\")) + string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", \"year\")+5 )),\"#\")+\"-01-01\"), \"yyyy-MM-dd\")) when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"quarter\" then quarter_last_day(toDate(date_to_epoch(quarter_last_day(toDate(date_to_epoch(quarter_last_day(now())) - 1036800 + ((string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", \"quarter\")+8 ))-1) * 7948800)))) + 86400)) when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"month\" then month_last_day(toDate(date_to_epoch(month_last_day(toDate(date_to_epoch(month_last_day(now())) - 1036800 + ((string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", \"month\")+6 ))-1) * 2678400)))) + 86400)) when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"week\" then week_last_day(toDate(date_to_epoch(week_last_day(toDate(date_to_epoch(week_last_day(now())) + ((string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", \"week\")+5 ))-1) * 604800)))) + 86400)) when \"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"day\" then toDate((date_to_epoch(now()) - (date_to_epoch(now())- (86400 * floor(date_to_epoch(now())/86400)))) + (string_to_number(substr(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", index_of(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\", \"day\")+4 )) * 86400)) when !(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\" matches \"All\") then toDate(string_to_number(\"{{coalesce(cell(Response_date_filter_1.selection,0,\"max\"),\"All\").asObject()}}\")/1000) else toDate(5707696000) end as 'Max'; q = foreach q generate 'First Second' as 'First Second', 'Min' as 'Min Date', 'Max' as 'Max Date', date_to_epoch('Min')*1000 as 'Min', (date_to_epoch('Max')+86399)*1000 as 'Max', (date_to_epoch('Min')-((date_to_epoch('Max')+86399)-date_to_epoch('Min')))*1000 as 'Compare Min', ((date_to_epoch('Max')+86399)-((date_to_epoch('Max')+86399)-date_to_epoch('Min')))*1000 as 'Compare Max';",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [
          "First Second",
          "Min Date",
          "Max Date"
        ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "borderColor" : "#e0e5ee",
            "borderWidth" : 1,
            "cell" : {
              "backgroundColor" : "#ffffff",
              "fontColor" : "#16325c",
              "fontSize" : 12
            },
            "columnProperties" : { },
            "columns" : [ ],
            "customBulkActions" : [ ],
            "header" : {
              "backgroundColor" : "#f4f6f9",
              "fontColor" : "#16325c",
              "fontSize" : 12
            },
            "innerMajorBorderColor" : "#a8b7c7",
            "innerMinorBorderColor" : "#e0e5ee",
            "maxColumnWidth" : 300,
            "minColumnWidth" : 40,
            "mode" : "variable",
            "numberOfLines" : 1,
            "showActionMenu" : true,
            "showRowIndexColumn" : true,
            "totals" : true,
            "verticalPadding" : 8
          },
          "type" : "table"
        }
      },
      "NPS___Customer_Journ_4" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "NPS - Customer Journey - Promoters/Detractors/Passives",
        "numbers" : [ ],
        "query" : "config = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata18_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\";\nconfig = filter config by 'QuestionType' == \"NPS\";\nq = load \"${App.Datasets.SurveyQuestionResponsewithDetails18_tp.FullyQualifiedName}\";\nq = filter q by 'Question_QuestionType' == \"NPS\";\npromoters = filter q by 'NumberValue' > 8;\npassive = filter q by 'NumberValue' <= 8 && 'NumberValue' >= 7;\ndetractors = filter q by 'NumberValue' < 7;\njourney = group config by ('Stage') left, passive by ('JourneyConfig_Stage') left,  promoters by ('JourneyConfig_Stage') left, detractors by ('JourneyConfig_Stage');\njourney = foreach journey generate config.'Stage' as 'Stage', first(config.'StageOrder') as 'StageOrder', count(promoters) as 'Promoters', count(detractors) as 'Detractors',count(passive) as 'Passives';\njourney = order journey by 'StageOrder' asc;",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "NPS___Customer_Journ_1",
            "Responses_by_stage_1"
          ]
        },
        "selectMode" : "multi",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "sync",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "vbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [
                "Stage"
              ],
              "plots" : [
                "Promoters",
                "Passives",
                "Detractors"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "NPS___Customer_Journ_2" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "NPS - Customer Journey KPI",
        "numbers" : [ ],
        "query" : "config = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata18_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\"; \nconfig = filter config by 'QuestionType' == \"NPS\";\n\nq = load \"${App.Datasets.SurveyQuestionResponsewithDetails18_tp.FullyQualifiedName}\";\nq = filter q by 'Question_QuestionType' == \"NPS\"; q = filter q by {{column(NPS___Customer_Journ_1.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}} && {{column(NPS___Customer_Journ_4.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}} && {{column(Responses_by_stage_1.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}};\n\npromoters = filter q by 'NumberValue' > 8;\ndetractors = filter q by 'NumberValue' < 7;\n\njourney = group config by ('Stage', 'SurveyID', 'SurveyVersionID', 'QuestionID') left, q by ('JourneyConfig_Stage', 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId') left,  promoters by ('JourneyConfig_Stage','SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId') left, detractors by ('JourneyConfig_Stage','SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId');\n\njourney = foreach journey generate config.'Stage' as 'Stage', config.'SurveyID' as 'SurveyID', config.'SurveyVersionID' as 'SurveyVersionID', config.'QuestionID' as 'QuestionID', first(config.'SurveyName') as 'SurveyName', count(promoters) - count(detractors) as 'Value', count(q) as 'count';\n\njourney = group journey by all;\njourney = foreach journey generate round((sum('Value')*100)/sum('count'),2) as 'Value', sum('count') as 'count';",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "NPS___Customer_Journ_3" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "NPS - Customer Journey Unique Participants",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.SurveyQuestionResponsewithDetails18_tp.FullyQualifiedName}\"; q = filter q by {{column(NPS___Customer_Journ_1.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}} && {{column(NPS___Customer_Journ_4.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}} && {{column(Responses_by_stage_1.selection, [\"Stage\"]).asEquality(\"JourneyConfig_Stage\")}};\nconfig = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata18_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\";\nq = group config by all left, q by all;\nq = foreach q generate unique(q.'Invitation_ParticipantId') as 'unique_Invitation_ParticipantId';\nq = limit q 2000;",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "NPS___Customer_Journ_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "NPS - Customer Journey",
        "numbers" : [ ],
        "query" : "config = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata18_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\"; \nconfig = filter config by 'QuestionType' == \"NPS\";\n\nq = load \"${App.Datasets.SurveyQuestionResponsewithDetails18_tp.FullyQualifiedName}\";\nq = filter q by 'Question_QuestionType' == \"NPS\";\n\npromoters = filter q by 'NumberValue' > 8;\ndetractors = filter q by 'NumberValue' < 7;\n\njourney = group config by ('Stage', 'SurveyID', 'SurveyVersionID', 'QuestionID') left, q by ('JourneyConfig_Stage', 'SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId') left,  promoters by ('JourneyConfig_Stage','SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId') left, detractors by ('JourneyConfig_Stage','SurveyVersion_Survey_Id', 'SurveyVersionId', 'QuestionId');\n\njourney = foreach journey generate config.'Stage' as 'Stage', config.'SurveyID' as 'SurveyID', config.'SurveyVersionID' as 'SurveyVersionID', config.'QuestionID' as 'QuestionID', first(config.'SurveyName') as 'SurveyName', count(promoters) - count(detractors) as 'Value', count(q) as 'count', first(config.'StageOrder') as 'StageOrder';\n\njourney = group journey by ('Stage');\njourney = foreach journey generate 'Stage' as 'Stage', coalesce(round((sum('Value')*100)/sum('count'),2),0) as 'Value', sum('count') as 'count', first('StageOrder') as 'StageOrder'; journey = order journey by 'StageOrder' asc;",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "Responses_by_stage_1",
            "NPS___Customer_Journ_4"
          ]
        },
        "selectMode" : "multi",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "vbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [
                "Stage"
              ],
              "plots" : [
                "Value"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "NPS___Customer_Journey_1" : {
        "broadcastFacet" : true,
        "datasets" : [
          {
            "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
          }
        ],
        "isGlobal" : false,
        "label" : "NPS - Customer Journey",
        "query" : {
          "query" : {
            "measures" : [
              [
                "count",
                "*"
              ]
            ],
            "groups" : [
              "JourneyConfig_Journey"
            ],
            "filters" : [
              [
                "Question_QuestionType",
                [
                  "NPS"
                ],
                "in"
              ],
              [
                "JourneyConfig_Context",
                [
                  "Customer NPS"
                ],
                "in"
              ]
            ]
          },
          "version" : -1.0
        },
        "receiveFacetSource" : {
          "mode" : "none",
          "steps" : [ ]
        },
        "selectMode" : "singlerequired",
        "type" : "aggregateflex",
        "useGlobal" : false,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [
                "JourneyConfig_Journey"
              ],
              "plots" : [
                "count"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "Responses_by_stage_1" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "Responses by stage",
        "numbers" : [ ],
        "query" : "config = load \"${App.Datasets.Journey_Survey_Question_Config_Metadata18_tp.FullyQualifiedName}\";\nconfig = filter config by 'Context' == \"Customer NPS\";\nconfig = filter config by 'QuestionType' == \"NPS\";\nq = load \"${App.Datasets.SurveyQuestionResponsewithDetails18_tp.FullyQualifiedName}\"; \nq = filter q by 'Question_QuestionType' == \"NPS\";\njourney = group config by ('Stage') left, q by ('JourneyConfig_Stage');\njourney = foreach journey generate config.'Stage' as 'Stage', first(config.'StageOrder') as 'StageOrder', count(q) as 'count';\njourney = order journey by 'StageOrder' asc;",
        "receiveFacetSource" : {
          "mode" : "exclude",
          "steps" : [
            "NPS___Customer_Journ_4",
            "NPS___Customer_Journ_1"
          ]
        },
        "selectMode" : "multi",
        "start" : [ ],
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showPoints" : false,
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "line",
            "dashLine" : {
              "measures" : "",
              "showDashLine" : false
            },
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "split" : [ ],
              "trellis" : [ ],
              "dimensionAxis" : [
                "Stage"
              ],
              "plots" : [
                "count"
              ]
            },
            "fillArea" : true,
            "showActionMenu" : true,
            "showZero" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "valueType" : "none",
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true,
            "drawArea" : {
              "measure" : "",
              "showDrawArea" : false,
              "bounding1" : "",
              "bounding2" : ""
            }
          },
          "type" : "chart"
        }
      },
      "Response_date_filter_1" : {
        "broadcastFacet" : true,
        "datasets" : [
          {
            "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
          }
        ],
        "isGlobal" : false,
        "label" : "Response date filter",
        "query" : {
          "query" : {
            "measures" : [
              [
                "count",
                "*"
              ]
            ],
            "groups" : [
              [
                "CreatedDate_Year",
                "CreatedDate_Month",
                "CreatedDate_Day"
              ]
            ]
          },
          "version" : -1.0
        },
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "start" : [
          [
            [
              "quarter",
              0
            ],
            [
              "quarter",
              0
            ]
          ]
        ],
        "type" : "aggregateflex",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "showBinLabel" : true,
              "measures" : "",
              "showNullValues" : true,
              "showPercentage" : true,
              "showDimensions" : true,
              "showMeasures" : true,
              "customizeTooltip" : false,
              "dimensions" : ""
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [
                "CreatedDate_Year~~~CreatedDate_Month~~~CreatedDate_Day"
              ],
              "plots" : [
                "count"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      }
    },
    "widgetStyle" : {
      "backgroundColor" : "#FFFFFF",
      "borderColor" : "#E6ECF2",
      "borderEdges" : [ ],
      "borderRadius" : 0,
      "borderWidth" : 1
    },
    "widgets" : {
      "text_10" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : "Which stage of the journey can be improved?"
          },
          "fontSize" : 18,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "text_11" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : "Responsive Customers"
          },
          "fontSize" : 12,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "container_1" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "container_2" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "container_3" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "filterpanel_5" : {
        "parameters" : {
          "filterItemOptions" : {
            "propertyColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "filters" : [
            {
              "dataset" : {
                "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
              },
              "field" : "Invitation_MassInvite"
            }
          ],
          "showAllFilters" : false
        },
        "type" : "filterpanel"
      },
      "container_4" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "filterpanel_4" : {
        "parameters" : {
          "filterItemOptions" : {
            "propertyColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "filters" : [
            {
              "dataset" : {
                "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
              },
              "field" : "Invitation_Subject_SubjectEntityType"
            }
          ],
          "showAllFilters" : false
        },
        "type" : "filterpanel"
      },
      "filterpanel_3" : {
        "parameters" : {
          "filterItemOptions" : {
            "propertyColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "filters" : [
            {
              "dataset" : {
                "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
              },
              "field" : "Invitation_Participant_Name"
            }
          ],
          "showAllFilters" : false
        },
        "type" : "filterpanel"
      },
      "text_3" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : "CUSTOMER ENGAGEMENT"
          },
          "fontSize" : 14,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "text_2" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : "NET PROMOTER SCORE"
          },
          "fontSize" : 14,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "chart_5" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showPoints" : false,
          "legend" : {
            "descOrder" : false,
            "showHeader" : true,
            "show" : true,
            "customSize" : "auto",
            "position" : "bottom-center",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "line",
          "dashLine" : {
            "measures" : "",
            "showDashLine" : false
          },
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "fillArea" : true,
          "columnMap" : {
            "split" : [
              "JourneyConfig_Stage"
            ],
            "trellis" : [ ],
            "dimensionAxis" : [
              "CreatedDate_Year~~~CreatedDate_Month~~~CreatedDate_Day"
            ],
            "plots" : [
              "NPS"
            ]
          },
          "showActionMenu" : true,
          "showZero" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "valueType" : "none",
          "theme" : "light",
          "step" : "NPS_Score___Trend_ov_1",
          "dimensionAxis" : {
            "showTitle" : true,
            "customSize" : "auto",
            "showAxis" : true,
            "title" : "Period (Year-Month-Day)",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true,
          "drawArea" : {
            "measure" : "",
            "showDrawArea" : false,
            "bounding1" : "",
            "bounding2" : ""
          }
        },
        "type" : "chart"
      },
      "text_5" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : ""
          },
          "fontSize" : 16,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "text_4" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : ""
          },
          "fontSize" : 16,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "chart_2" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showPoints" : true,
          "legend" : {
            "descOrder" : false,
            "showHeader" : true,
            "show" : false,
            "customSize" : "auto",
            "position" : "right-top",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "line",
          "dashLine" : {
            "measures" : "",
            "showDashLine" : false
          },
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "fillArea" : true,
          "columnMap" : {
            "split" : [ ],
            "trellis" : [ ],
            "dimensionAxis" : [
              "Stage"
            ],
            "plots" : [
              "count"
            ]
          },
          "showActionMenu" : true,
          "showZero" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "Responses",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "valueType" : "compactNumber",
          "theme" : "wave",
          "step" : "Responses_by_stage_1",
          "dimensionAxis" : {
            "showTitle" : false,
            "customSize" : "auto",
            "showAxis" : false,
            "title" : "",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true,
          "drawArea" : {
            "measure" : "",
            "showDrawArea" : false,
            "bounding1" : "",
            "bounding2" : ""
          }
        },
        "type" : "chart"
      },
      "text_7" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : ""
          },
          "fontSize" : 16,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "chart_1" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showValues" : true,
          "bins" : {
            "breakpoints" : {
              "high" : 100,
              "low" : 0
            },
            "bands" : {
              "high" : {
                "color" : "#008000",
                "label" : ""
              },
              "low" : {
                "color" : "#B22222",
                "label" : ""
              },
              "medium" : {
                "color" : "#ffa500",
                "label" : ""
              }
            }
          },
          "legend" : {
            "descOrder" : false,
            "showHeader" : true,
            "show" : false,
            "customSize" : "auto",
            "position" : "right-top",
            "inside" : false
          },
          "axisMode" : "multi",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "vbar",
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "binValues" : false,
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "columnMap" : {
            "trellis" : [ ],
            "dimensionAxis" : [
              "Stage"
            ],
            "plots" : [
              "Value"
            ]
          },
          "showActionMenu" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "NPS",
            "customDomain" : {
              "high" : 100,
              "low" : -100,
              "showDomain" : true
            }
          },
          "theme" : "wave",
          "step" : "NPS___Customer_Journ_1",
          "dimensionAxis" : {
            "showTitle" : false,
            "customSize" : "auto",
            "showAxis" : false,
            "title" : "",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true
        },
        "type" : "chart"
      },
      "text_6" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : "Customer Base"
          },
          "fontSize" : 12,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "chart_4" : {
        "parameters" : {
          "autoFitMode" : "keepLabels",
          "showValues" : true,
          "bins" : {
            "breakpoints" : {
              "high" : 100,
              "low" : 0
            },
            "bands" : {
              "high" : {
                "color" : "#008000",
                "label" : ""
              },
              "low" : {
                "color" : "#B22222",
                "label" : ""
              },
              "medium" : {
                "color" : "#ffa500",
                "label" : ""
              }
            }
          },
          "legend" : {
            "descOrder" : false,
            "showHeader" : false,
            "show" : true,
            "customSize" : "auto",
            "position" : "bottom-center",
            "inside" : false
          },
          "axisMode" : "sync",
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "vbar",
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "binValues" : false,
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "columnMap" : {
            "trellis" : [ ],
            "dimensionAxis" : [
              "Stage"
            ],
            "plots" : [
              "Promoters",
              "Passives",
              "Detractors"
            ]
          },
          "showActionMenu" : true,
          "measureAxis2" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "measureAxis1" : {
            "sqrtScale" : false,
            "showTitle" : true,
            "showAxis" : true,
            "title" : "Responses",
            "customDomain" : {
              "showDomain" : false
            }
          },
          "theme" : "wave",
          "step" : "NPS___Customer_Journ_4",
          "dimensionAxis" : {
            "showTitle" : true,
            "customSize" : "auto",
            "showAxis" : true,
            "title" : "",
            "icons" : {
              "useIcons" : false,
              "iconProps" : {
                "fit" : "cover",
                "column" : "",
                "type" : "round",
                "parameters" : { }
              }
            }
          },
          "applyConditionalFormatting" : true
        },
        "type" : "chart"
      },
      "text_9" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : "How did the NPS trend over time?"
          },
          "fontSize" : 18,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "chart_3" : {
        "parameters" : {
          "centerText" : "",
          "legend" : {
            "descOrder" : false,
            "showHeader" : true,
            "show" : false,
            "customSize" : "auto",
            "position" : "right-top",
            "inside" : false
          },
          "showMeasureTitle" : false,
          "tooltip" : {
            "showBinLabel" : true,
            "measures" : "",
            "showNullValues" : true,
            "showPercentage" : true,
            "showDimensions" : true,
            "showMeasures" : true,
            "customizeTooltip" : false,
            "dimensions" : ""
          },
          "visualizationType" : "pie",
          "exploreLink" : true,
          "title" : {
            "fontSize" : 14,
            "subtitleFontSize" : 11,
            "label" : "",
            "align" : "center",
            "subtitleLabel" : ""
          },
          "trellis" : {
            "flipLabels" : false,
            "showGridLines" : true,
            "size" : [
              100,
              100
            ],
            "enable" : false,
            "type" : "x",
            "parameters" : { },
            "chartsPerLine" : 4
          },
          "inner" : 70,
          "columnMap" : {
            "trellis" : [ ],
            "dimension" : [
              "Customer Type"
            ],
            "plots" : [
              "Count"
            ]
          },
          "showActionMenu" : true,
          "centerValueType" : "number",
          "valueType" : "compactNumber",
          "theme" : "light",
          "step" : "Responsive_customer__1",
          "applyConditionalFormatting" : true
        },
        "type" : "chart"
      },
      "text_8" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : ""
          },
          "fontSize" : 16,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "dateselector_1" : {
        "parameters" : {
          "absoluteModeEnabled" : true,
          "calendarTypeSwitchingAllowed" : true,
          "defaultFiscalMode" : false,
          "displayMode" : "filter",
          "filterStyle" : {
            "titleColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "instant" : false,
          "presetsEnabled" : true,
          "relativeModeEnabled" : true,
          "showActionMenu" : false,
          "step" : "Response_date_filter_1",
          "title" : "Response Period"
        },
        "type" : "dateselector"
      },
      "text_1" : {
        "parameters" : {
          "content" : {
            "displayTemplate" : "CUSTOMER NPS JOURNEY MAP - Beta"
          },
          "fontSize" : 20,
          "showActionMenu" : true,
          "textAlignment" : "left",
          "textColor" : "#091A3E"
        },
        "type" : "text"
      },
      "link_3" : {
        "parameters" : {
          "destinationLink" : {
            "name" : "${App.Dashboards['Customer Journey Map for NPS - Stage Analysis - Beta'].Name}",
            "namespace" : "${Org.Namespace}"
          },
          "destinationType" : "dashboard",
          "fontSize" : 14,
          "includeState" : true,
          "text" : "STAGE ANALYSIS",
          "textAlignment" : "center",
          "textColor" : "#091A3E"
        },
        "type" : "link"
      },
      "filterpanel_2" : {
        "parameters" : {
          "filterItemOptions" : {
            "propertyColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "filters" : [
            {
              "dataset" : {
                "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
              },
              "field" : "Invitation_OptionsAllowGuestUserResponse"
            }
          ],
          "showAllFilters" : false
        },
        "type" : "filterpanel"
      },
      "filterpanel_1" : {
        "parameters" : {
          "filterItemOptions" : {
            "propertyColor" : "#54698D",
            "valueColor" : "#16325C"
          },
          "filters" : [
            {
              "dataset" : {
                "name" : "${App.Datasets.SurveyQuestionResponsewithDetails18_tp.Name}"
              },
              "field" : "Invitation_OptionsCollectAnonymousResponse"
            }
          ],
          "showAllFilters" : false
        },
        "type" : "filterpanel"
      },
      "link_2" : {
        "parameters" : {
          "destinationType" : "lens",
          "fontSize" : 14,
          "includeState" : false,
          "text" : "JOURNEY ANALYSIS",
          "textAlignment" : "center",
          "textColor" : "rgb(0, 112, 210)"
        },
        "type" : "link"
      },
      "number_3" : {
        "parameters" : {
          "compact" : true,
          "exploreLink" : true,
          "measureField" : "unique_Invitation_ParticipantId",
          "numberColor" : "#091A3E",
          "numberSize" : 16,
          "showActionMenu" : false,
          "step" : "NPS___Customer_Journ_3",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "number_2" : {
        "parameters" : {
          "compact" : true,
          "exploreLink" : true,
          "measureField" : "count",
          "numberColor" : "#091A3E",
          "numberSize" : 16,
          "showActionMenu" : false,
          "step" : "Customer_Base_1",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "number_1" : {
        "parameters" : {
          "compact" : false,
          "exploreLink" : true,
          "measureField" : "Value",
          "numberColor" : "#091A3E",
          "numberSize" : 24,
          "showActionMenu" : true,
          "step" : "NPS___Customer_Journ_2",
          "textAlignment" : "left",
          "title" : "",
          "titleColor" : "#091A3E",
          "titleSize" : 16
        },
        "type" : "number"
      },
      "image_1" : {
        "parameters" : {
          "alignmentX" : "center",
          "alignmentY" : "center",
          "fit" : "fitheight",
          "image" : {
            "name" : "${App.Images['surveyslciconjpg1898jpg'].Name}",
            "namespace" : "${Org.Namespace}"
          }
        },
        "type" : "image"
      },
      "listselector_1" : {
        "parameters" : {
          "compact" : false,
          "displayMode" : "filter",
          "exploreLink" : false,
          "filterStyle" : {
            "titleColor" : "#54698D",
            "valueColor" : "#091A3E"
          },
          "instant" : true,
          "measureField" : "none",
          "showActionMenu" : false,
          "step" : "NPS___Customer_Journey_1",
          "title" : "Journey"
        },
        "type" : "listselector"
      }
    }
  }
}