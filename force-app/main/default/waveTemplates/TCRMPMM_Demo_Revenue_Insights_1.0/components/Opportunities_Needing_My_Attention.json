{
  "name" : "Opportunities_Needing_My_Attention_tp",
  "label" : "Opportunities Needing My Attention",
  "folder" : {
    "id" : "${App.Folder.Id}"
  },
  "dateVersion" : 1,
  "mobileDisabled" : false,
  "xmd" : {
    "measures" : [ ],
    "derivedDimensions" : [ ],
    "organizations" : [ ],
    "showDetailsDefaultFields" : [ ],
    "dates" : [ ],
    "derivedMeasures" : [ ],
    "dimensions" : [
      {
        "recordDisplayFields" : [ ],
        "conditionalFormatting" : { },
        "defaultAction" : "openActionsMenu",
        "salesforceActions" : [ ],
        "field" : "next_step.Name",
        "members" : [ ],
        "customActions" : [ ]
      },
      {
        "recordIdField" : "Id",
        "recordDisplayFields" : [
          "Name"
        ],
        "linkTemplateEnabled" : true,
        "conditionalFormatting" : { },
        "defaultAction" : "openActionsMenu",
        "salesforceActions" : [ ],
        "field" : "no_activity.Name",
        "members" : [ ],
        "customActions" : [ ],
        "linkTemplate" : "/{{row.Id}}",
        "salesforceActionsEnabled" : true
      },
      {
        "recordDisplayFields" : [ ],
        "conditionalFormatting" : { },
        "defaultAction" : "openActionsMenu",
        "salesforceActions" : [ ],
        "field" : "stuck_in_stage.Opp.Name",
        "members" : [ ],
        "customActions" : [ ]
      }
    ]
  },
  "state" : {
    "dataSourceLinks" : [ ],
    "filters" : [ ],
    "gridLayouts" : [
      {
        "maxWidth" : 400,
        "name" : "Default",
        "numColumns" : 50,
        "pages" : [
          {
            "label" : "no_activity",
            "name" : "0d1b479c-275a-4574-9899-3aa22f541801",
            "navigationHidden" : false,
            "widgets" : [
              {
                "colspan" : 37,
                "column" : 1,
                "name" : "text_4",
                "row" : 1,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 11,
                "column" : 11,
                "name" : "link_1",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 12,
                "column" : 22,
                "name" : "link_2",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 10,
                "column" : 1,
                "name" : "text_6",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "rgb(21, 137, 238)",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 2
                }
              },
              {
                "colspan" : 40,
                "column" : 0,
                "name" : "container_1",
                "row" : 8,
                "rowspan" : 25,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "rgb(201, 201, 201)",
                  "borderEdges" : [
                    "top"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 22,
                "column" : 17,
                "name" : "text_1",
                "row" : 30,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 4
                }
              },
              {
                "colspan" : 38,
                "column" : 1,
                "name" : "table_1",
                "row" : 9,
                "rowspan" : 20,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              }
            ]
          },
          {
            "label" : "no_next_step",
            "name" : "0446deaf-d1c9-4317-80cb-d09135514514",
            "navigationHidden" : false,
            "widgets" : [
              {
                "colspan" : 12,
                "column" : 22,
                "name" : "link_2",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 40,
                "column" : 0,
                "name" : "container_1",
                "row" : 8,
                "rowspan" : 25,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "rgb(201, 201, 201)",
                  "borderEdges" : [
                    "top"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 38,
                "column" : 1,
                "name" : "text_4",
                "row" : 1,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 11,
                "column" : 11,
                "name" : "text_3",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "rgb(21, 137, 238)",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 2
                }
              },
              {
                "colspan" : 9,
                "column" : 1,
                "name" : "link_3",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 21,
                "column" : 18,
                "name" : "text_1a",
                "row" : 30,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 4
                }
              },
              {
                "colspan" : 38,
                "column" : 1,
                "name" : "table_2",
                "row" : 9,
                "rowspan" : 20,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              }
            ]
          },
          {
            "label" : "stuck",
            "name" : "63dea40e-3e79-443f-a957-3f9f210b72a8",
            "navigationHidden" : false,
            "widgets" : [
              {
                "colspan" : 11,
                "column" : 11,
                "name" : "link_1",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 40,
                "column" : 0,
                "name" : "container_1",
                "row" : 8,
                "rowspan" : 25,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "rgb(201, 201, 201)",
                  "borderEdges" : [
                    "top"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 1
                }
              },
              {
                "colspan" : 38,
                "column" : 1,
                "name" : "text_4",
                "row" : 1,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 12,
                "column" : 22,
                "name" : "text_5",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "rgb(21, 137, 238)",
                  "borderEdges" : [
                    "bottom"
                  ],
                  "borderRadius" : 0,
                  "borderWidth" : 2
                }
              },
              {
                "colspan" : 9,
                "column" : 1,
                "name" : "link_3",
                "row" : 5,
                "rowspan" : 3,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 38,
                "column" : 1,
                "name" : "table_3",
                "row" : 9,
                "rowspan" : 21,
                "widgetStyle" : {
                  "borderEdges" : [ ]
                }
              },
              {
                "colspan" : 21,
                "column" : 18,
                "name" : "text_2",
                "row" : 30,
                "rowspan" : 3,
                "widgetStyle" : {
                  "backgroundColor" : "#FFFFFF",
                  "borderColor" : "#FFFFFF",
                  "borderEdges" : [ ],
                  "borderRadius" : 0,
                  "borderWidth" : 4
                }
              }
            ]
          }
        ],
        "rowHeight" : "fine",
        "selectors" : [
          "maxWidth(400)"
        ],
        "style" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "backgroundColor" : "#FFFFFF",
          "cellSpacingX" : 0,
          "cellSpacingY" : 0,
          "fit" : "original",
          "gutterColor" : "#C5D3E0"
        },
        "version" : 1.0
      }
    ],
    "layouts" : [ ],
    "steps" : {
      "no_activity" : {
        "broadcastFacet" : false,
        "groups" : [ ],
        "label" : "no_activity",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.opportunity_revinsights.FullyQualifiedName}\";\n q = filter q by 'IsClosed' == \"false\";\n q = filter q by 'Activity.ActivityCount' == 0 || 'Activity.ActivityCount' is null;\nq = group q by 'Id';\nq = foreach q generate 'Id', first('Name') as 'Name', sum('Amount') as 'Amount';\nq = order q by 'Amount' desc nulls last;\nq = limit q 50;",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "none",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "borderColor" : "#FFFFFF",
            "borderWidth" : 1,
            "cell" : {
              "backgroundColor" : "#ffffff",
              "fontColor" : "rgb(9, 26, 62)",
              "fontSize" : 12,
              "textWrap" : true
            },
            "columnProperties" : {
              "B" : {
                "parameters" : {
                  "alignment" : "right",
                  "styles" : {
                    "bold" : true
                  }
                },
                "type" : "text"
              },
              "Amount" : {
                "parameters" : {
                  "alignment" : "right",
                  "styles" : {
                    "bold" : true
                  }
                },
                "type" : "text"
              },
              "Name" : {
                "parameters" : {
                  "alignment" : "left",
                  "styles" : {
                    "linkColor" : "#006dcc"
                  }
                },
                "type" : "text"
              }
            },
            "columns" : [
              "Name",
              "Amount"
            ],
            "customBulkActions" : [ ],
            "header" : {
              "backgroundColor" : "#FFFFFF",
              "fontColor" : "#7D98B3",
              "fontSize" : 11,
              "textWrap" : true
            },
            "innerMajorBorderColor" : "#FFFFFF",
            "innerMinorBorderColor" : "#FFFFFF",
            "mode" : "fittocontainer",
            "numberOfLines" : 1,
            "pivoted" : false,
            "showActionMenu" : false,
            "showRowIndexColumn" : false,
            "totals" : true,
            "verticalPadding" : 4
          },
          "type" : "table"
        }
      },
      "no_activity_total" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "no_activity_total",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.opportunity_revinsights.FullyQualifiedName}\";\n q = filter q by 'IsClosed' == \"false\";\n q = filter q by 'Activity.ActivityCount' == 0 || 'Activity.ActivityCount' is null;\nq = group q by all;\nq = foreach q generate sum('Amount') as 'sum_Amount';",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "content" : {
                "legend" : {
                  "showBinLabel" : true,
                  "measures" : [ ],
                  "showNullValues" : true,
                  "customizeLegend" : false,
                  "showPercentage" : true,
                  "showDimensions" : true,
                  "showMeasures" : true,
                  "dimensions" : [ ]
                }
              }
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "next_step" : {
        "broadcastFacet" : false,
        "groups" : [ ],
        "label" : "next_step",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.opportunity_revinsights.FullyQualifiedName}\";\n q = filter q by 'IsClosed' == \"false\";\n q = filter q by 'NextStep' is null;\nq = group q by 'Id';\nq = foreach q generate 'Id', first('Name') as 'Name', sum('Amount') as 'Amount';\nq = order q by 'Amount' desc nulls last;\nq = limit q 50;",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "none",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "borderColor" : "#FFFFFF",
            "borderWidth" : 1,
            "cell" : {
              "backgroundColor" : "#ffffff",
              "fontColor" : "#16325c",
              "fontSize" : 12,
              "textWrap" : true
            },
            "collapsible" : false,
            "columnProperties" : {
              "Amount" : {
                "parameters" : {
                  "alignment" : "right",
                  "styles" : {
                    "bold" : true
                  }
                },
                "type" : "text"
              },
              "Name" : {
                "parameters" : {
                  "alignment" : "left",
                  "styles" : {
                    "linkColor" : "#006dcc"
                  }
                },
                "type" : "text"
              }
            },
            "columns" : [
              "Name",
              "Amount"
            ],
            "customBulkActions" : [ ],
            "header" : {
              "backgroundColor" : "#FFFFFF",
              "fontColor" : "#7D98B3",
              "fontSize" : 11,
              "textWrap" : false
            },
            "innerMajorBorderColor" : "#FFFFFF",
            "innerMinorBorderColor" : "#FFFFFF",
            "mode" : "fittocontainer",
            "numberOfLines" : 1,
            "showActionMenu" : true,
            "showRowIndexColumn" : false,
            "totals" : true,
            "verticalPadding" : 4
          },
          "type" : "table"
        }
      },
      "avg_days_in_stage" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "avg_days_in_stage",
        "numbers" : [ ],
        "query" : "a = load \"${App.Datasets.OpportunityHistory.FullyQualifiedName}\";\na = filter a by 'StageNamePrev' != null;\na = filter a by 'Stage_isUpdated' == \"1\";\na = group a by ('Id', 'OpportunityId', 'ValidFromDate', 'ValidToDate', 'Stage_isUpdated');\na = foreach a generate 'Id', 'OpportunityId', 'ValidFromDate', 'ValidToDate', 'Stage_isUpdated', case when toDate(first('ValidToDate_sec_epoch')) >= now() then daysBetween(toDate(first('ValidFromDate_sec_epoch')), now()) else daysBetween(toDate(first('ValidFromDate_sec_epoch')), toDate(first('ValidToDate_sec_epoch'))) end as 'Days_in_Stage';\na = group a by all;\na = foreach a generate coalesce(avg('Days_in_Stage'),0) as 'avg_Days';",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "content" : {
                "legend" : {
                  "showBinLabel" : true,
                  "measures" : [ ],
                  "showNullValues" : true,
                  "customizeLegend" : false,
                  "showPercentage" : true,
                  "showDimensions" : true,
                  "showMeasures" : true,
                  "dimensions" : [ ]
                }
              }
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "next_step_total" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.opportunity_revinsights.FullyQualifiedName}\";\n q = filter q by 'IsClosed' == \"false\";\n q = filter q by 'NextStep' is null;\nq = group q by all;\nq = foreach q generate sum('Amount') as 'sum_Amount';",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "content" : {
                "legend" : {
                  "showBinLabel" : true,
                  "measures" : [ ],
                  "showNullValues" : true,
                  "customizeLegend" : false,
                  "showPercentage" : true,
                  "showDimensions" : true,
                  "showMeasures" : true,
                  "dimensions" : [ ]
                }
              }
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "total_stuck_in_stage" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.OpportunityHistory.FullyQualifiedName}\"; q = filter q by 'Opp.IsClosed' == \"false\"; q = group q by ('Id', 'OpportunityId', 'Opp.Name', 'Time.LastStageUpdate_Id'); q = foreach q generate 'Id', 'OpportunityId', 'Opp.Name', sum('Opp.Amount') as 'Amount', case when 'Time.LastStageUpdate_Id' == 'Id' then \"true\" else \"false\" end as 'last_stage', daysBetween(toDate(first('ValidFromDate_sec_epoch')), now()) as 'Days_in_Stage', {{coalesce(cell(avg_days_in_stage.result, 0, \"avg_Days\"),0).asString()}} as 'avg_Days'; q = filter q by 'last_stage' == \"true\"; q = group q by ('OpportunityId', 'Opp.Name'); q = foreach q generate 'Opp.Name', sum('Amount') as 'Amount', case when sum('Days_in_Stage') >= sum('avg_Days') + 14 then \"true\" else \"false\" end as 'Stuck'; q = filter q by 'Stuck' == \"true\"; q = group q by all; q = foreach q generate sum('Amount') as 'sum_Amount';",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "autoFitMode" : "keepLabels",
            "showValues" : true,
            "bins" : {
              "breakpoints" : {
                "high" : 100,
                "low" : 0
              },
              "bands" : {
                "high" : {
                  "color" : "#008000",
                  "label" : ""
                },
                "low" : {
                  "color" : "#B22222",
                  "label" : ""
                },
                "medium" : {
                  "color" : "#ffa500",
                  "label" : ""
                }
              }
            },
            "legend" : {
              "descOrder" : false,
              "showHeader" : true,
              "show" : true,
              "customSize" : "auto",
              "position" : "right-top",
              "inside" : false
            },
            "axisMode" : "multi",
            "tooltip" : {
              "content" : {
                "legend" : {
                  "showBinLabel" : true,
                  "measures" : [ ],
                  "showNullValues" : true,
                  "customizeLegend" : false,
                  "showPercentage" : true,
                  "showDimensions" : true,
                  "showMeasures" : true,
                  "dimensions" : [ ]
                }
              }
            },
            "visualizationType" : "hbar",
            "title" : {
              "fontSize" : 14,
              "subtitleFontSize" : 11,
              "label" : "",
              "align" : "center",
              "subtitleLabel" : ""
            },
            "binValues" : false,
            "trellis" : {
              "flipLabels" : false,
              "showGridLines" : true,
              "size" : [
                100,
                100
              ],
              "enable" : false,
              "type" : "x",
              "chartsPerLine" : 4
            },
            "columnMap" : {
              "trellis" : [ ],
              "dimensionAxis" : [ ],
              "plots" : [
                "count"
              ]
            },
            "showActionMenu" : true,
            "measureAxis2" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "measureAxis1" : {
              "sqrtScale" : false,
              "showTitle" : true,
              "showAxis" : true,
              "title" : "",
              "customDomain" : {
                "showDomain" : false
              }
            },
            "theme" : "wave",
            "dimensionAxis" : {
              "showTitle" : true,
              "customSize" : "auto",
              "showAxis" : true,
              "title" : "",
              "icons" : {
                "useIcons" : false,
                "iconProps" : {
                  "fit" : "cover",
                  "column" : "",
                  "type" : "round"
                }
              }
            },
            "applyConditionalFormatting" : true
          },
          "type" : "chart"
        }
      },
      "stuck_in_stage" : {
        "broadcastFacet" : true,
        "groups" : [ ],
        "label" : "stuck_in_stage",
        "numbers" : [ ],
        "query" : "q = load \"${App.Datasets.OpportunityHistory.FullyQualifiedName}\"; q = filter q by 'Opp.IsClosed' == \"false\"; q = group q by ('Id', 'OpportunityId', 'Opp.Name', 'Time.LastStageUpdate_Id'); q = foreach q generate 'Id', 'OpportunityId', 'Opp.Name', sum('Opp.Amount') as 'Amount', case when 'Time.LastStageUpdate_Id' == 'Id' then \"true\" else \"false\" end as 'last_stage', daysBetween(toDate(first('ValidFromDate_sec_epoch')), now()) as 'Days_in_Stage', {{coalesce(cell(avg_days_in_stage.result, 0, \"avg_Days\"),0).asString()}} as 'avg_Days'; q = filter q by 'last_stage' == \"true\"; q = group q by ('OpportunityId', 'Opp.Name'); q = foreach q generate 'Opp.Name', sum('Amount') as 'Amount', case when sum('Days_in_Stage') >= sum('avg_Days') + 14 then \"true\" else \"false\" end as 'Stuck'; q = filter q by 'Stuck' == \"true\"; q = foreach q generate 'Opp.Name', sum('Amount') as 'Amount'; q = order q by 'Amount' desc nulls last;",
        "receiveFacetSource" : {
          "mode" : "all",
          "steps" : [ ]
        },
        "selectMode" : "single",
        "strings" : [ ],
        "type" : "saql",
        "useGlobal" : true,
        "visualizationParameters" : {
          "parameters" : {
            "borderColor" : "#e0e5ee",
            "borderWidth" : 1,
            "cell" : {
              "backgroundColor" : "#ffffff",
              "fontColor" : "#16325c",
              "fontSize" : 12,
              "textWrap" : true
            },
            "columnProperties" : { },
            "columns" : [ ],
            "customBulkActions" : [ ],
            "header" : {
              "backgroundColor" : "#f4f6f9",
              "fontColor" : "#16325c",
              "fontSize" : 12,
              "textWrap" : true
            },
            "innerMajorBorderColor" : "#a8b7c7",
            "innerMinorBorderColor" : "#e0e5ee",
            "maxColumnWidth" : 300,
            "minColumnWidth" : 40,
            "mode" : "variable",
            "numberOfLines" : 1,
            "pivoted" : false,
            "showActionMenu" : true,
            "totals" : true,
            "verticalPadding" : 8
          },
          "type" : "table"
        }
      }
    },
    "widgetStyle" : {
      "backgroundColor" : "#FFFFFF",
      "borderColor" : "#E6ECF2",
      "borderEdges" : [ ],
      "borderRadius" : 0,
      "borderWidth" : 1
    },
    "widgets" : {
      "text_1" : {
        "parameters" : {
          "content" : {
            "richTextContent" : [
              {
                "attributes" : {
                  "color" : "#444444",
                  "size" : "12px"
                },
                "insert" : "Total Amount "
              },
              {
                "attributes" : {
                  "color" : "#7d98b3",
                  "size" : "12px"
                },
                "insert" : "    "
              },
              {
                "attributes" : {
                  "color" : "#181818",
                  "size" : "12px",
                  "bold" : true
                },
                "insert" : "[Sum_of_Amount]"
              },
              {
                "attributes" : {
                  "align" : "right"
                },
                "insert" : "\n"
              }
            ],
            "values" : {
              "Sum_of_Amount" : {
                "field" : "sum_Amount",
                "sourceType" : "result",
                "step" : "no_activity_total"
              }
            }
          },
          "showActionMenu" : false
        },
        "type" : "text"
      },
      "link_3" : {
        "parameters" : {
          "destinationLink" : {
            "name" : "0d1b479c-275a-4574-9899-3aa22f541801"
          },
          "destinationType" : "page",
          "fontSize" : 12,
          "includeState" : false,
          "text" : "No Activity",
          "textAlignment" : "center",
          "textColor" : "rgb(24, 24, 24)"
        },
        "type" : "link"
      },
      "link_1" : {
        "parameters" : {
          "destinationLink" : {
            "name" : "0446deaf-d1c9-4317-80cb-d09135514514"
          },
          "destinationType" : "page",
          "fontSize" : 12,
          "includeState" : false,
          "text" : "No Next Step",
          "textAlignment" : "center",
          "textColor" : "rgb(24, 24, 24)"
        },
        "type" : "link"
      },
      "link_2" : {
        "parameters" : {
          "destinationLink" : {
            "name" : "63dea40e-3e79-443f-a957-3f9f210b72a8"
          },
          "destinationType" : "page",
          "fontSize" : 12,
          "includeState" : false,
          "text" : "Stuck in Stage",
          "textAlignment" : "center",
          "textColor" : "rgb(24, 24, 24)"
        },
        "type" : "link"
      },
      "table_1" : {
        "parameters" : {
          "borderColor" : "#FFFFFF",
          "borderWidth" : 1,
          "cell" : {
            "backgroundColor" : "#ffffff",
            "fontColor" : "rgb(9, 26, 62)",
            "fontSize" : 12,
            "textWrap" : false
          },
          "columnProperties" : {
            "B" : {
              "parameters" : {
                "alignment" : "right",
                "styles" : {
                  "bold" : true
                }
              },
              "type" : "text"
            },
            "Amount" : {
              "parameters" : {
                "alignment" : "right",
                "styles" : {
                  "bold" : true
                }
              },
              "type" : "text"
            },
            "Name" : {
              "parameters" : {
                "alignment" : "left",
                "styles" : {
                  "linkColor" : "#006dcc"
                }
              },
              "type" : "text"
            }
          },
          "columns" : [
            "Name",
            "Amount"
          ],
          "customBulkActions" : [ ],
          "exploreLink" : true,
          "header" : {
            "backgroundColor" : "#FFFFFF",
            "fontColor" : "#7D98B3",
            "fontSize" : 11,
            "textWrap" : false
          },
          "innerMajorBorderColor" : "#FFFFFF",
          "innerMinorBorderColor" : "#FFFFFF",
          "mode" : "fittocontainer",
          "numberOfLines" : 1,
          "pivoted" : false,
          "showActionMenu" : false,
          "showRowIndexColumn" : false,
          "step" : "no_activity",
          "totals" : true,
          "verticalPadding" : 4
        },
        "type" : "table"
      },
      "table_2" : {
        "parameters" : {
          "borderColor" : "#FFFFFF",
          "borderWidth" : 1,
          "cell" : {
            "backgroundColor" : "#ffffff",
            "fontColor" : "#16325c",
            "fontSize" : 12,
            "textWrap" : false
          },
          "collapsible" : false,
          "columnProperties" : {
            "Amount" : {
              "parameters" : {
                "alignment" : "right",
                "styles" : {
                  "bold" : true
                }
              },
              "type" : "text"
            },
            "Name" : {
              "parameters" : {
                "alignment" : "left",
                "styles" : {
                  "linkColor" : "#006dcc"
                }
              },
              "type" : "text"
            }
          },
          "columns" : [
            "Name",
            "Amount"
          ],
          "customBulkActions" : [ ],
          "exploreLink" : true,
          "header" : {
            "backgroundColor" : "#FFFFFF",
            "fontColor" : "#7D98B3",
            "fontSize" : 11,
            "textWrap" : false
          },
          "innerMajorBorderColor" : "#FFFFFF",
          "innerMinorBorderColor" : "#FFFFFF",
          "mode" : "fittocontainer",
          "numberOfLines" : 1,
          "pivoted" : false,
          "showActionMenu" : false,
          "showRowIndexColumn" : false,
          "step" : "next_step",
          "totals" : true,
          "verticalPadding" : 4
        },
        "type" : "table"
      },
      "table_3" : {
        "parameters" : {
          "borderColor" : "#FFFFFF",
          "borderWidth" : 1,
          "cell" : {
            "backgroundColor" : "#ffffff",
            "fontColor" : "#16325c",
            "fontSize" : 12,
            "textWrap" : false
          },
          "columnProperties" : {
            "Amount" : {
              "parameters" : {
                "alignment" : "right",
                "styles" : {
                  "bold" : true
                }
              },
              "type" : "text"
            }
          },
          "columns" : [ ],
          "customBulkActions" : [ ],
          "exploreLink" : true,
          "header" : {
            "backgroundColor" : "#FFFFFF",
            "fontColor" : "#7D98B3",
            "fontSize" : 11,
            "textWrap" : false
          },
          "innerMajorBorderColor" : "#FFFFFF",
          "innerMinorBorderColor" : "#FFFFFF",
          "mode" : "fittocontainer",
          "numberOfLines" : 1,
          "pivoted" : false,
          "showActionMenu" : true,
          "step" : "stuck_in_stage",
          "totals" : true,
          "verticalPadding" : 4
        },
        "type" : "table"
      },
      "container_1" : {
        "parameters" : {
          "alignmentX" : "left",
          "alignmentY" : "top",
          "fit" : "original"
        },
        "type" : "container"
      },
      "text_3" : {
        "parameters" : {
          "content" : {
            "richTextContent" : [
              {
                "attributes" : {
                  "size" : "12px",
                  "color" : "#181818",
                  "bold" : true
                },
                "insert" : "No Next Step"
              },
              {
                "attributes" : {
                  "align" : "center"
                },
                "insert" : "\n"
              }
            ]
          },
          "showActionMenu" : false,
          "tooltip" : "Open Opportunities where the Next Step field is blank"
        },
        "type" : "text"
      },
      "text_2" : {
        "parameters" : {
          "content" : {
            "richTextContent" : [
              {
                "attributes" : {
                  "color" : "#444444",
                  "size" : "12px"
                },
                "insert" : "Total Amount"
              },
              {
                "attributes" : {
                  "color" : "#7d98b3",
                  "size" : "12px"
                },
                "insert" : "     "
              },
              {
                "attributes" : {
                  "color" : "#020821",
                  "size" : "12px",
                  "bold" : true
                },
                "insert" : "[Sum_of_Amount]"
              },
              {
                "attributes" : {
                  "align" : "right"
                },
                "insert" : "\n"
              }
            ],
            "values" : {
              "Sum_of_Amount" : {
                "field" : "sum_Amount",
                "sourceType" : "result",
                "step" : "total_stuck_in_stage"
              }
            }
          },
          "showActionMenu" : false
        },
        "type" : "text"
      },
      "text_5" : {
        "parameters" : {
          "content" : {
            "richTextContent" : [
              {
                "attributes" : {
                  "size" : "12px",
                  "color" : "#181818",
                  "bold" : true
                },
                "insert" : "Stuck in Stage"
              },
              {
                "attributes" : {
                  "align" : "center"
                },
                "insert" : "\n"
              }
            ]
          },
          "showActionMenu" : false,
          "tooltip" : "Open Opportunities that have been in the same stage for more than fourteen days longer than the average days in the stage"
        },
        "type" : "text"
      },
      "text_4" : {
        "parameters" : {
          "content" : {
            "richTextContent" : [
              {
                "attributes" : {
                  "color" : "#181818",
                  "size" : "16px",
                  "bold" : true
                },
                "insert" : "Opportunities Needing My Attention"
              },
              {
                "attributes" : {
                  "align" : "left"
                },
                "insert" : "\n"
              }
            ]
          },
          "showActionMenu" : false
        },
        "type" : "text"
      },
      "text_6" : {
        "parameters" : {
          "content" : {
            "richTextContent" : [
              {
                "attributes" : {
                  "size" : "12px",
                  "color" : "#181818",
                  "bold" : true
                },
                "insert" : "No Activity"
              },
              {
                "attributes" : {
                  "align" : "center"
                },
                "insert" : "\n"
              }
            ]
          },
          "showActionMenu" : false,
          "tooltip" : "Open Opportunities with no activity in the last fourteen days"
        },
        "type" : "text"
      },
      "text_1a" : {
        "parameters" : {
          "content" : {
            "richTextContent" : [
              {
                "attributes" : {
                  "color" : "#444444",
                  "size" : "12px"
                },
                "insert" : "Total Amount"
              },
              {
                "attributes" : {
                  "color" : "#7d98b3",
                  "size" : "12px"
                },
                "insert" : "     "
              },
              {
                "attributes" : {
                  "color" : "#181818",
                  "size" : "12px",
                  "bold" : true
                },
                "insert" : "[Sum_of_Amount]"
              },
              {
                "attributes" : {
                  "align" : "right"
                },
                "insert" : "\n"
              }
            ],
            "values" : {
              "Sum_of_Amount" : {
                "field" : "sum_Amount",
                "sourceType" : "result",
                "step" : "next_step_total"
              }
            }
          },
          "showActionMenu" : false
        },
        "type" : "text"
      }
    }
  }
}